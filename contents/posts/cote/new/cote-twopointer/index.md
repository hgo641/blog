---
title: "c++ : ν¬ν¬μΈν„° ν™μ©"
date: 2022-10-24
tags:
  - cote
---

## ν¬ν¬μΈν„°

> λ‘ κ°μ ν¬μΈν„°λ¥Ό κ°€μ§€κ³  νƒμƒ‰ν•λ” μ•κ³ λ¦¬μ¦

![](tp1.jpeg)

* μ‹μ‘ μ§€μ κ³Ό λ μ§€μ μ— λ‘ κ°μ ν¬μΈν„°λ¥Ό μ‚¬μ©ν•΄μ„ `λ²”μ„`λ¥Ό μ§€μ •ν•  μ μλ‹¤.
* μ‚¬μ§„ μ²λΌ μ‹μ‘κ³Ό, λ μ§€μ μ— κ°κ°μ ν¬μΈν„°κ°€ μμ„μλ„ μμ§€λ§ μ‹μ‘μ§€μ μ—μ„ λ‘ κ°μ ν¬μΈν„°κ°€ κ°™μ΄ μ‹μ‘ν•  μλ„ μλ‹¤.

<br/>

![](tp2.jpeg)

* ν¬ν¬μΈν„°λ” μ›μ†λ¥Ό μ •λ ¬ν• λ‹¤μμ— μ£Όλ΅ μ‚¬μ©ν•λ‹¤.
* μ›μ†κ°€ μ¤λ¦„μ°¨μμΌλ΅ μ •λ ¬λμ–΄ μλ‹¤λ©΄, μ™Όμ½μΌλ΅ κ°μλ΅ κ°’μ΄ μ‘μ€ μ›μ†μ΄κ³  μ¤λ¥Έμ½μΌλ΅ κ°μλ΅ κ°’μ΄ ν° μ›μ†μΌ κ²ƒμ΄λ‹¤.
* ν¬ν¬μΈν„°λ¥Ό ν™μ©ν•λ©΄, μ«μμ λ²”μ„λ¥Ό μ΅°μ •ν•΄ μ›ν•λ” κ°’μ μ«μλ¥Ό μ°Ύμ„ μ μλ‹¤.

<br/>

κΈ€λ΅λ§ λ³΄λ©΄ μ΄ν•΄κ°€ μ•κ°€λ‹ λ¬Έμ λ¥Ό ν’€λ©΄μ„ μ΄ν•΄ν•΄λ³΄μ!



## λ°±μ¤€ 1644 μ†μμ μ—°μ†ν•©

[λ°±μ¤€ 1644 μ†μμ μ—°μ†ν•© λ§ν¬](https://www.acmicpc.net/problem/1644) <br/>

μ–΄λ–¤μ nμ΄ μ£Όμ–΄μ΅μ„ λ• μ—°μ†λλ” μ†μλ“¤μ ν•©μΌλ΅ nμ„ λ§λ“¤ μ μλ” κ²½μ°μ μκ°€ λ‡ κ°μΈμ§€λ¥Ό μ¶λ ¥ν•λ” λ¬Έμ μ΄λ‹¤.

* ex) 41μ κ²½μ°, 2+3+5+7+11+13 = 11+13+17 = 41 (μ„Έ κ°€μ§€)
* ex) 10μ κ²½μ° 3 + 7 λ΅ λ‚νƒ€λ‚Ό μ μμΌλ‚ λ‘ μ†μλ” μ—°μ†λλ” μ†μκ°€ μ•„λ‹λ―€λ΅ κ²½μ°μ μμ— ν¬ν•¨λμ§€ μ•λ”λ‹¤.

<br/>

μ΄ λ¬Έμ λ” μ—°μ†λλ” μ†μλ“¤μ ν•©μ„ κµ¬ν•΄μ•Ό ν•λ―€λ΅, μ–΄λ–¤ `λ²”μ„`λ¥Ό μ§€μ •ν•λ” κ²ƒμ΄ μ¤‘μ”ν•λ‹¤. ν¬ν¬μΈν„°λ” `λ²”μ„`λ¥Ό μ •ν•  μ μλ” μΆ‹μ€ μ•κ³ λ¦¬μ¦μ΄λ‹¤.

* lowμ™€ highλ” κ°κ° ν¬μΈν„°μ΄λ©°, λ‘ λ‹¤ μ‹μ‘ μ§€μ μ—μ„ μ¶λ°ν•λ‹¤.
* κµ¬κ°„μ ν•©μ΄ nλ³΄λ‹¤ μ‘λ‹¤λ©΄ highλ¥Ό μ¦κ°€μ‹μΌ μ¤λ¥Έμ½μ μ›μ†λ¥Ό ν•©μ— ν¬ν•¨μ‹ν‚¨λ‹¤.
* κµ¬κ°„μ ν•©μ΄ nλ³΄λ‹¤ ν¬λ‹¤λ©΄ lowλ¥Ό μ¦κ°€μ‹μΌ ν•©μ—μ„ μ™Όμ½ λ μ›μ†μ κ°’λ§νΌ κ°μ†μ‹ν‚¨λ‹¤.

μ„ ν¬ν¬μΈν„° λ΅μ§μ„ μ‚¬μ©ν•΄, μ—°μ†λ κµ¬κ°„μ ν•©μ„ κµ¬ν•  μ μλ‹¤.

```cpp
#include <bits/stdc++.h>

using namespace std;

int n, low, high, sum, ans;
bool notPrime[4000001];
vector<int> v;

int main() {
	cin >> n;
	for (int i = 2; i <= sqrt(n); i++) { // μ—λΌν† μ¤ν…λ„¤μ¤μ μ²΄λ¥Ό μ‚¬μ©ν•΄ nμ΄ν•μΈ μ†μλ“¤μ„ λ¨λ‘ κµ¬ν•¨
		for (int j = i * i; j <= n; j += i) {
			if (notPrime[j]) {
				continue;
			}
			notPrime[j] = 1;
		}
	}
	
	for (int i = 2; i <= n; i++) { // vμ— nμ΄ν• μ†μλ“¤μ„ μ‚½μ…
		if (!notPrime[i]) {
			v.push_back(i);
		}
	}
	
	while (true) { // ν¬ν¬μΈν„°λ¥Ό ν™μ©ν•΄μ„ nμ„ λ§λ“¤ μ μλ” μ—°μ†λ μ†μλ“¤μ ν•©μ„ κµ¬ν•¨
		if (sum > n) {
			sum -= v[low++];
		}
		else if (high == v.size()) {
			break;
		}
		else if (sum <= n) {
			sum += v[high++];
		}

		if (sum == n) {
			ans++;
		}
	}
	cout << ans;
}
```



### π“ μ—λΌν† μ¤ν…λ„¤μ¤μ μ²΄

```cpp
for (int i = 2; i <= sqrt(n); i++) {
		for (int j = i * i; j <= n; j += i) { 
			if (notPrime[j]) {
				continue;
			}
			notPrime[j] = 1;
		}
	}
```

* 2λ¶€ν„° sqrt(n)κΉμ§€ μλ΅ λ§λ“¤ μ μλ” λ¨λ“  λ°°μλ“¤μ„ κµ¬ν•λ©΄, λ°λ€λ΅ nμ΄ν•μ μμ—°μ μ¤‘ μ†μμΈ μλ“¤λ„ κµ¬ν•  μ μλ‹¤.
* `for (int j = i * i; j <= n; j += i)` : i \* k (k < i)μ μλ“¤μ€ μ΄μ „ forλ¬Έμ—μ„ λ―Έλ¦¬ μ²΄ν¬κ°€ λλ―€λ΅, i \* i λ¶€ν„° λ°°μλ¥Ό μ²΄ν¬ν•λ‹¤. 



### π“ λ°μƒν• μ—λ¬ : OutOfBound

```cpp
while (true) { // ν¬ν¬μΈν„°λ¥Ό ν™μ©ν•΄μ„ nμ„ λ§λ“¤ μ μλ” μ—°μ†λ μ†μλ“¤μ ν•©μ„ κµ¬ν•¨
		if (sum > n) {
			sum -= v[low++];
		}
		else if (high == v.size()) {
			break;
		}
		else if (sum <= n) {
			sum += v[high++];
		}

		if (sum == n) {
			ans++;
		}
	}
```

<br/>

ν•΄λ‹Ή λ¶€λ¶„μ μ½”λ“λ¥Ό μ•„λμ™€ κ°™μ΄ λ³€κ²½ν•λ©΄ `OutOfBound`μ—λ¬κ°€ λ‚λ‹¤.

```cpp
while (true) { // ν¬ν¬μΈν„°λ¥Ό ν™μ©ν•΄μ„ nμ„ λ§λ“¤ μ μλ” μ—°μ†λ μ†μλ“¤μ ν•©μ„ κµ¬ν•¨
		if (sum > n) {
			sum -= v[low++];
		}
		else if (high > v.size() - 1) {
			break;
		}
		else if (sum <= n) {
			sum += v[high++];
		}

		if (sum == n) {
			ans++;
		}
	}
```

<br/>

`else if (high == v.size()) `μ™€ `else if (high > v.size() - 1)`μ— μ°¨μ΄κ°€ μ—†λ” κ²ƒ κ°™μ€λ° μ™ OutOfBoundκ°€ λ‚ μ§€ κ³ λ―Όν–λ‹¤.

* κ²°λ΅ μ€ λ²΅ν„° vμ μ‚¬μ΄μ¦κ°€ 0μΌ κ²½μ°, μ—λ¬κ°€ λ‚λ”κ±°μ€λ‹¤.
*  vκ°€ 1μ΄λΌλ©΄, 1μ΄ν•μ μ†μκ°€ μ—†μ–΄ vμ— μ–΄λ–¤ μ›μ†λ„ λ“¤μ–΄κ°€μ§€ μ•κ³ , μ•„λ v[high++]λ¶€λ¶„μ—μ„ v[0]λ² μ›μ†μ— μ ‘κ·Όν•λ ¤κ³  ν•κΈ°μ— OutOfBoundμ—λ¬κ°€ λ‚λ‹¤.
* λ¨λ“  κ²½μ°μ μλ¥Ό μƒκ°ν•λ©° μ½”λ“λ¥Ό μ‘μ„±ν•μ .... γ… γ… !



## μ°Έκ³ 

* https://blog.naver.com/jhc9639/222319124359

