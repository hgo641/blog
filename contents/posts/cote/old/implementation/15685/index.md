---
title: "ë°±ì¤€ 15685 ë“œë˜ê³¤ ì»¤ë¸Œ í’€ì´"
date: 2023-01-30
tags:
  - cote
  - implementation
---

## ë¬¸ì œ

[ë°±ì¤€ 15685 ë“œë˜ê³¤ ì»¤ë¸Œ](https://www.acmicpc.net/problem/15685)<br/>

* ë“œë˜ê³¤ ì»¤ë¸ŒëŠ” ì‹œì‘ì (x, y), ë°©í–¥(d), ì„¸ëŒ€(g)ë¥¼ ê°€ì§€ê³  ìˆë‹¤.
* 0ì„¸ëŒ€ ë“œë˜ê³¤ ì»¤ë¸ŒëŠ” ì‹œì‘ì (x, y)ì—ì„œ ë°©í–¥(d)ë¥¼ ë°”ë¼ë³´ê²Œ ê·¸ì€ ê¸¸ì´ 1ì˜ ì„ ë¶„ì´ë‹¤.

* Kì„¸ëŒ€ ë“œë˜ê³¤ ì»¤ë¸ŒëŠ” K-1ì„¸ëŒ€ ë“œë˜ê³¤ ì»¤ë¸Œë¥¼ ë ì ì„ ê¸°ì¤€ìœ¼ë¡œ 90ë„ ì‹œê³„ ë°©í–¥ íšŒì „ ì‹œí‚¨ ë‹¤ìŒ, ê·¸ê²ƒì„ ë ì ì— ë¶™ì¸ ê²ƒì´ë‹¤. (0 < K)



## í’€ì´ ë°©ë²•

ë¬¸ì œì—ì„œ ë‚˜ì™”ë“¯ì´ ë“œë˜ê³¤ ì»¤ë¸Œë¥¼ ê·¸ë¦¬ëŠ” ë°©ë²•ì€ ë‘ ê°€ì§€ë¡œ ë‚˜ë‰˜ì–´ì§„ë‹¤.

* 0ì„¸ëŒ€ : ì‹œì‘ì ì—ì„œ ì£¼ì–´ì§„ ë°©í–¥ëŒ€ë¡œ ê¸¸ì´ 1ë§Œí¼ì˜ ë¼ì¸ì„ ê·¸ë¦°ë‹¤.
* 1ì„¸ëŒ€ ì´ìƒ : ì´ì „ ì„¸ëŒ€ì—ì„œ ê·¸ë¦° ì»¤ë¸Œ ë¼ì¸ì„ 90ë„ íšŒì „í•´ì„œ ëì ë¼ë¦¬ ì´ì–´ë¶™ì¸ë‹¤.

<br/>

### ğŸ“Œ 0ì„¸ëŒ€ 

0ì„¸ëŒ€ ë“œë˜ê³¤ ì»¤ë¸Œë¥¼ ê·¸ë¦¬ëŠ” ë°©ë²•ì€ ë§¤ìš° ê°„ë‹¨í•˜ë‹¤. ì‹œì‘ì ì„ ê¸°ì¤€ìœ¼ë¡œ ë°©í–¥ëŒ€ë¡œ 1ë§Œí¼ ë¼ì¸ì„ ê·¸ë¦¬ë©´ ëœë‹¤.

```cpp
int dx[4] = { 1, 0, -1, 0 };
int dy[4] = { 0, -1, 0, 1 };

pair<int, int> drawLine(int x, int y, int d) { // (x, y)ì—ì„œ dë°©í–¥ìœ¼ë¡œ 1ë§Œí¼ ë¼ì¸ì„ ê·¸ë¦¼ 
	board[x][y] = 1; // boardì— ë“œë˜ê³¤ ì»¤ë¸Œì˜ ë¼ì¸ í‘œì‹œ
	int cx = x + dx[d];
	int cy = y + dy[d];
	board[cx][cy] = 1;
	return { cx, cy };
}
```



### ğŸ“Œ 1ì„¸ëŒ€ ì´ìƒ

* ìš°ì„  Kì„¸ëŒ€ ë“œë˜ê³¤ ì»¤ë¸Œë¥¼ ê·¸ë¦¬ê¸° ìœ„í•´ì„œëŠ” K-1ì„¸ëŒ€ ë“œë˜ê³¤ ì»¤ë¸Œê°€ ì–´ë–»ê²Œ ìƒê²¼ëŠ”ì§€ë¥¼ ì•Œì•„ì•¼ í•œë‹¤. (K-1ì„¸ëŒ€ ì»¤ë¸Œì˜ ëª¨ë“  ë£¨íŠ¸ë¥¼ ì•Œì•„ì•¼ í•¨.)

* Kê°€ 1ì´ìƒì¼ ë•Œ, Kì„¸ëŒ€ ë“œë˜ê³¤ ì»¤ë¸ŒëŠ” K-1ì„¸ëŒ€ ë“œë˜ê³¤ ì»¤ë¸Œì˜ ëì ê³¼ K-1ì„¸ëŒ€ ë“œë˜ê³¤ ì»¤ë¸Œë¥¼ 90ë„ íšŒì „í•œ ê²ƒì˜ ëì ì„ ì„œë¡œ ì´ì–´ë¶™ì¸ë‹¤. ì¦‰, Kì„¸ëŒ€ì—ì„œ ìƒˆë¡œ ê·¸ë ¤ì§€ëŠ” ë¼ì¸ì€ **K-1ì„¸ëŒ€ì˜ ëì ì—ì„œ ì‹œì‘**í•˜ê³ , íšŒì „í•œ K-1ì„¸ëŒ€ ì»¤ë¸ŒëŠ” **ëì ì—ì„œ ë¶€í„° ê·¸ë ¤ì§€ê²Œ ëœë‹¤.**<br/>

```cpp
int size = curv.route.size(); // curv.routeëŠ” K-1ì„¸ëŒ€ ë“œë˜ê³¤ ì»¤ë¸Œì˜ ë£¨íŠ¸
pair<int, int> lineStartPoint = curv.route[size - 1]; // K-1ì„¸ëŒ€ ë“œë˜ê³¤ ì»¤ë¸Œì˜ ëì 

for (int i = size - 1; i > 0; i--) { // íšŒì „í•œ K-1ì„¸ëŒ€ ì»¤ë¸ŒëŠ” ëì ì—ì„œ ì»¤ë¸Œì˜ ëì ì—ì„œë¶€í„° ê·¸ë ¤ì§„ë‹¤.
    int nextDirection = getNextDirection(curv.route[i], curv.route[i - 1]); //90ë„ íšŒì „í•œ ë°©í–¥
    pair<int, int> lineEndPoint = drawLine(lineStartPoint.first, lineStartPoint.second, nextDirection); // ê¸¸ì´ 1ë§Œí¼ ë¼ì¸ì„ ê·¸ë¦¼
    curv.route.push_back(lineEndPoint);
    lineStartPoint = lineEndPoint; // ëì ì—ì„œ ë¶€í„° ê³„ì† ì´ì–´ ê·¸ë¦¼
```



## ì „ì²´ ì½”ë“œ

```cpp
#include <bits/stdc++.h>

using namespace std;

struct Curv {
	int x;
	int y;
	int d;
	int g;
	pair<int, int> endPoint;
	vector<pair<int, int>> route;
};

int n;
bool board[101][101];

int dx[4] = { 1, 0, -1, 0 };
int dy[4] = { 0, -1, 0, 1 };

int getNextDirection(pair<int, int> src, pair<int, int> dest) {
	if (src.second < dest.second) { // +y
		return 2;
	}
	if (src.first > dest.first) { // -x
		return 1;
	}
	if (src.second > dest.second) { // -y
		return 0;
	}
	if (src.first < dest.first) { // +x
		return 3;
	}
}

pair<int, int> drawLine(int x, int y, int d) { // (x, y)ì—ì„œ dë°©í–¥ìœ¼ë¡œ 1ë§Œí¼ ë¼ì¸ì„ ê·¸ë¦¼ 
	board[x][y] = 1;
	int cx = x + dx[d];
	int cy = y + dy[d];
	board[cx][cy] = 1;
	return { cx, cy };
}

void drawCurv(int depth, Curv curv) { // ë“œë˜ê³¤ ì»¤ë¸Œ curvì˜ ëª¨ë“  ë¼ì¸ì„ ê·¸ë¦¼ 
	if (depth > curv.g) {
		return;
	}

	if (depth == 0) {
		curv.route.push_back({ curv.x, curv.y });
		pair<int, int> lineEndPoint = drawLine(curv.x, curv.y, curv.d);
		curv.route.push_back(lineEndPoint);
	}

	else {
		int size = curv.route.size();
		pair<int, int> lineStartPoint = curv.route[size - 1];
		for (int i = size - 1; i > 0; i--) {
			int nextDirection = getNextDirection(curv.route[i], curv.route[i - 1]);
			pair<int, int> lineEndPoint = drawLine(lineStartPoint.first, lineStartPoint.second, nextDirection);
			curv.route.push_back(lineEndPoint);
			lineStartPoint = lineEndPoint;
		}
	}

	drawCurv(depth + 1, curv);
}

int countSquare() {
	int cnt = 0;
	for (int i = 0; i < 100; i++) {
		for (int j = 0; j < 100; j++) {
			if (board[i][j] && board[i + 1][j] && board[i][j + 1] && board[i + 1][j + 1]) {
				cnt++;
			}
		}
	}
	return cnt;
}

int main() {
	ios_base::sync_with_stdio(false);
	cin.tie(NULL); cout.tie(NULL); 
	cin >> n;
	int x, y, d, g;
	for (int i = 0; i < n; i++) {
		cin >> x >> y >> d >> g;
		Curv curv = { x, y, d, g };
		drawCurv(0, curv);
	}
	cout << countSquare();
}
```



## í’€ì´ ë°©ë²• 2

ë“œë˜ê³¤ ì»¤ë¸Œ ë£¨íŠ¸ì˜ ê·œì¹™ì„±ì„ ì°¾ì•„ í•´ê²°í•˜ëŠ” ë°©ë²•ë„ ìˆì—ˆë‹¤.<br/>

* 0ë²ˆ ë°©í–¥ìœ¼ë¡œ ì‹œì‘í•˜ëŠ” ë“œë˜ê³¤ ì»¤ë¸Œê°€ ìˆì„ ë•Œ, ê° ì„¸ëŒ€ë§ˆë‹¤ ìƒˆë¡­ê²Œ ê·¸ë ¤ì§€ëŠ” ì»¤ë¸Œì˜ ë°©í–¥ ë³€í™”ë¥¼ ê´€ì°°í•´ë³´ì. ( 0 : ìš°, 1 : ìƒ, 2 : ì¢Œ, 3 : í•˜ )

```
1ì„¸ëŒ€[1ê°œ] : 0
2ì„¸ëŒ€[1ê°œ] : 1
3ì„¸ëŒ€[2ê°œ] : 2 1
4ì„¸ëŒ€[4ê°œ] : 2 3 2 1
5ì„¸ëŒ€[8ê°œ] : 2 3 0 3 2 3 2 1
```

<br/>

1. 2ì„¸ëŒ€ë¶€í„° 2ì˜ ë°°ìˆ˜ì”© ëŠ˜ì–´ë‚˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. (ë‹¹ì—°í•¨. K-1ì„¸ëŒ€ ì»¤ë¸Œë¥¼ ì´ì–´ ë¶™ì´ê¸° ë•Œë¬¸.)

2. 2ì„¸ëŒ€ë¶€í„° ( K-1ì„¸ëŒ€ì˜ ì—­ìˆœ + 1 % 4 ) + ( K-1ì„¸ëŒ€ )  ì”© ëŠ˜ì–´ë‚˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. 

```
2ì„¸ëŒ€[1ê°œ] : 1
3ì„¸ëŒ€[2ê°œ] : 2 (1)
4ì„¸ëŒ€[4ê°œ] : 2 3 (2 1)
5ì„¸ëŒ€[8ê°œ] : 2 3 0 3 (2 3 2 1)
```

* ê´„í˜¸ì•ˆì˜ ë°©í–¥ì€ K-1ì„¸ëŒ€ ë°©í–¥ê³¼ ë™ì¼í•˜ë‹¤.

<br/>

```
3ì„¸ëŒ€[2ê°œ] : 2 1
4ì„¸ëŒ€[4ê°œ] : (2 3) (2 1)
```

* ì•ì˜ 2, 3ì€ ì´ì „ ì„¸ëŒ€ì¸ 3ì„¸ëŒ€ì˜ ì—­ìˆœ + 1 % 4ì™€ ë™ì¼í•˜ë‹¤.
* `3ì„¸ëŒ€ (2 1) ì˜ ì—­ìˆœ` -> `(1 2)ì˜ + 1 % 4`ëŠ” `(2 3)`ì´ ëœë‹¤. 

<br/>

ì™œ? <br/>

* \+1 % 4ë¥¼ í•˜ëŠ” ì´ìœ  : 90ë„ íšŒì „ì„ í•´ì•¼í•˜ê¸° ë•Œë¬¸

> (0 -> 1), (1 -> 2), (2 -> 3), (3 -> 0) 

* ì—­ìˆœì¸ ì´ìœ  : ëì ê³¼ ëì ë¼ë¦¬ ì´ì–´ì§€ê¸° ë•Œë¬¸

> 4ì„¸ëŒ€[4ê°œ] : 2 3 2 1ë¥¼ ì˜ˆì‹œë¡œ ë‘˜ ë•Œ (2 1)ì€ ê¸°ì¡´ì— ê·¸ë ¤ì§„ K-1ì„¸ëŒ€ ì»¤ë¸Œë¡œ ì‹œì‘ì ë¶€í„° ê·¸ë ¤ì§„ë‹¤. ê·¸ëŸ¬ë‚˜  (2 3)ì€ 2ê°€ ì‹œì‘ì , 3ì´ ëì ìœ¼ë¡œ ëì ë¶€í„° ê·¸ë ¤ì§€ë¯€ë¡œ K-1ì„¸ëŒ€ ì»¤ë¸Œë¥¼ ì—­ìˆœìœ¼ë¡œ ë‚˜ì—´í•œë‹¤.



## ì „ì²´ ì½”ë“œ

```cpp
#include<bits/stdc++.h>
using namespace std;
const int dy[] = { 0, -1, 0, 1 };
const int dx[] = { 1, 0, -1, 0 };
vector<int> dragon[4][11];
int cnt, n, x, y, d, g, a[101][101];
void go(int x, int y, int d, int g) {
	int _x = x;
	int _y = y;
	a[_x][_y] = 1;
	for (int i = 0; i <= g; i++) {
		for (int dir : dragon[d][i]) {
			_x += dx[dir];
			_y += dy[dir];
			a[_x][_y] = 1;
		}
	}
	return;
}
void makeDragon() {
	for (int i = 0; i < 4; i++) {
		dragon[i][0].push_back(i);
		dragon[i][1].push_back((i + 1) % 4);
		for (int j = 2; j <= 10; j++) {
			int _n = dragon[i][j - 1].size();
			for (int k = _n - 1; k >= 0; k--) {
				dragon[i][j].push_back((dragon[i][j - 1][k] + 1) % 4); // ì—­ìˆœ 90ë„ íšŒì „
			}
			for (int k = 0; k < _n; k++) {
				dragon[i][j].push_back(dragon[i][j - 1][k]); // K-1ì„¸ëŒ€ ì»¤ë¸Œ
			}
		}
	}
	return;
}
int main() {
	cin >> n;
	makeDragon();
	for (int i = 0; i < n; i++) {
		cin >> x >> y >> d >> g;
		go(x, y, d, g);
	}
	for (int i = 0; i <= 100; i++) {
		for (int j = 0; j <= 100; j++) {
			if (a[i][j] && a[i + 1][j] && a[i + 1][j + 1] && a[i][j + 1])cnt++;
		}
	}
	cout << cnt << "\n";
	return 0;
}
```



## ì´ëŸ° ë¬¸ì œ... ì–´ë–»ê²Œ í’€ì–´ì•¼ í• ê¹Œ?

ë“œë˜ê³¤ ì»¤ë¸Œ ë¬¸ì œì˜ í•µì‹¬ì€ Kì„¸ëŒ€ ë“œë˜ê³¤ ì»¤ë¸Œë¥¼ ì–´ë–»ê²Œ ê·¸ë¦¬ëŠ”ê°€ì˜€ë‹¤. (0 < K) ë“œë˜ê³¤ ì»¤ë¸ŒëŠ” `ë°©í–¥`ê³¼ `ì„¸ëŒ€`ì— ë”°ë¼ ëª¨ì–‘ì´ ë‹¬ë¼ì§„ë‹¤. 

<br/>

ì²« ë²ˆì§¸ í’€ì´ì˜ ê²½ìš°, ì§ê´€ì ìœ¼ë¡œ ì»¤ë¸Œë¥¼ ê·¸ë¦¬ëŠ” ì•Œê³ ë¦¬ì¦˜ì„ ì‘ì„±í–ˆë‹¤. ì´ ë˜í•œ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆì§€ë§Œ ë” ë¹ ë¥¸ ì‹œê°„ì•ˆì— í’€ ìˆ˜ ìˆëŠ” ë‘ ë²ˆì§¸ í’€ì´ê°€ ì¡´ì¬í•œë‹¤. ë‘ ë²ˆì§¸ í’€ì´ëŠ” ë“œë˜ê³¤ ì»¤ë¸Œì˜ ëª¨ì–‘ì— ì˜í–¥ì„ ë¼ì¹˜ëŠ” `ë°©í–¥`ê³¼ `ì„¸ëŒ€`ë¥¼ ê°€ì§€ê³  ì»¤ë¸Œê°€ ê°€ì§€ê²Œ ë˜ëŠ” ë°©í–¥ì˜ ê·œì¹™ì„±ì„ ì°¾ì•„ í’€ì—ˆë‹¤.<br/>

ì¡°ê±´ì´ ë‘ ê°œë‚˜ ìˆì–´ì„œ (`ë°©í–¥`ê³¼ `ì„¸ëŒ€`) ê·œì¹™ì„±ì„ ì°¾ê¸° ì–´ë ¤ìš¸ ë•ŒëŠ” ì¡°ê±´ì¤‘ í•˜ë‚˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìƒíƒœë¥¼ ë‚˜ì—´í•´ë³´ëŠ” ê²ƒë„ ì¢‹ì€ ë°©ë²•ì¸ ê²ƒ ê°™ë‹¤.<br/>

ë‘ ë²ˆì§¸ í’€ì´ì˜ ê²½ìš°, `ë°©í–¥`ì„ ê¸°ì¤€ìœ¼ë¡œ ìƒíƒœë¥¼ ë‚˜ì—´í•˜ë‹¤ê°€ ê·œì¹™ì„±ì„ ì°¾ì•„ëƒˆë‹¤.

```
# ê° ì„¸ëŒ€ì—ì„œ ë‚˜ì—´ë˜ëŠ” ë°©í–¥ (ì²˜ìŒ ë°©í–¥ì´ 0ì´ì—ˆì„ ë•Œ)
1ì„¸ëŒ€[1ê°œ] : 0
2ì„¸ëŒ€[1ê°œ] : 1
3ì„¸ëŒ€[2ê°œ] : 2 1
4ì„¸ëŒ€[4ê°œ] : 2 3 2 1
5ì„¸ëŒ€[8ê°œ] : 2 3 0 3 2 3 2 1
```

ë¬¼ë¡  ë“œë˜ê³¤ ì»¤ë¸Œì˜ ì„±ì§ˆì„ ì˜ ì´í•´í–ˆë‹¤ë©´ ë‚˜ì—´í•´ë³´ì§€ ì•Šê³ ì„œë„ ê·œì¹™ì„±ì„ ë– ì˜¬ë¦´ ìˆ˜ ìˆê² ì§€ë§Œ... ë‚˜ëŠ” ë°”ë¡œ ëª»ë– ì˜¬ë¦´ ê²ƒ ê°™ê¸° ë•Œë¬¸ì—...^^ ëª¨ë¥´ê² ìœ¼ë©´ ë‚˜ì—´í•´ë³´ë©´ì„œ ì°¾ì•„ì•¼ê² ë‹¤! ğŸ˜„



## ì°¸ê³ 

* https://m.blog.naver.com/PostView.naver?blogId=jhc9639&logNo=221755725380&referrerCode=0&searchKeyword=15685
