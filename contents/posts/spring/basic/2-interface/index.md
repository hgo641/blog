---
title: "[λ―Έμ…1] XML λ°μ΄ν„° μ…λ ¥ κΈ°λ¥ μ¶”κ°€λ¥Ό μ„ν• μ¤€λΉ„μ‘μ—…"
date: 2022-07-15
tags:
  - spring
series: "moviebuddy"
---

## π“ [λ―Έμ…1] XML λ°μ΄ν„° μ…λ ¥ κΈ°λ¥ μ¶”κ°€

ν„μ¬ csvνμΌν•νƒλ΅ μν™” λ©λ΅ λ¦¬μ¤νΈλ¥Ό λ°›μ•„μ¤κ³ μλ‹¤. λ―Έμ…1μ€ μν™” λ©λ΅ λ¦¬μ¤νΈλ¥Ό xmlν•νƒλ΅λ„ λ°›μ•„μ¬ μ μκ² ν™•μ¥ν•λ” κ²ƒμ΄λ‹¤. <br/>

μ΄λ² ν¬μ¤ν…μ—μ„λ” XML λ°μ΄ν„° μ…λ ¥ κΈ°λ¥μ„ κµ¬ν„ν•΄λ³΄μ§„μ•μ§€λ§, κΈ°λ¥μ„ CSV readerμ™€ XML readerλ΅ λ‚λ„κΈ° μ„ν•΄ μ–΄λ–¤ μ „λµμ„ μ·¨ν•λ©΄ μΆ‹μ„μ§€ μ–κΈ°ν•΄λ³΄κ² λ‹¤.

## 1. λ¶„κΈ°λ¬ΈμΌλ΅ λ΅μ§μ„ λ¶„λ¦¬ν•΄μ„ κµ¬ν„

!<br/><br/><br/>

μ²« λ²μ§Έ λ°©λ²•μ€ λ¶„κΈ°λ¬ΈμΌλ΅ λ΅μ§μ„ λ¶„λ¦¬ν•λ©΄ λλ‹¤.<br/>

CSVνμΌμ„ λ°›λ” ν•¨μ `loadMoviesCSV()`μ™€ XMLνμΌμ„ λ°›λ” ν•¨μ`loadMoviesXML()`λ¥Ό μƒμ„±ν•΄ μ•„λμ™€ κ°™μ΄ λ¶„κΈ°λ¬ΈμΌλ΅ λ΅μ§μ„ λ¶„λ¦¬ν•λ‹¤.

```java
if (mode == "CSV"){
    return loadMoviesCSV();
} else if (mode == "XML"){
    return loadMoviesXML();
}
```

<br/>

> κ·Έλ¬λ‚ μ΄ λ°©λ²•μ—λ” ν¬λ‚ν° λ‹¨μ μ΄ μμΌλ‹...<br/>
>
> λ§μ•½ λ λ‹¤λ¥Έ ν•μ‹μ λ©”νƒ€λ°μ΄ν„°λ¥Ό μ½μ–΄μ•Ό ν•λ‹¤λ©΄, κ³„μ†ν•΄μ„ `load MoviesXXX()`λΌλ” ν•¨μλ¥Ό λ§λ“¤μ–΄μ•Όν•κ³  λ¶„κΈ°λ¬Έμ μ²λ¦¬λ„ κΈΈμ–΄μ§„λ‹¤.<br/>
>
> μ΄λ ‡κ² μƒλ΅μ΄ κΈ°λ¥μ„ μ¶”κ°€ν•΄μ•Όν•  λ•λ§λ‹¤ κΈ°μ΅΄μ μ½”λ“λ¥Ό λ³€κ²½ν•΄μ•Όν•λ‹¤λ©΄ λ²„κ·Έκ°€ λ°μƒν•  ν™•λ¥ μ΄ λ†’μ•„μ§„λ‹¤.

## μ†ν”„νΈμ›¨μ–΄ κ°λ°μ‹ μ§€μΌμ•Ό ν•  κ²ƒ

> μ¤λ μ™„μ„±ν•΄μ•Ό ν•λ” κΈ°λ¥μ„ κµ¬ν„ν•λ” μ½”λ“λ¥Ό μ§μ•Όν•λ” λ™μ‹μ— λ‚΄μΌ μ‰½κ² λ³€κ²½ν•  μ μλ” μ½”λ“λ¥Ό μ§μ•Ό ν•λ‹¤.

<br/>

κ°λ°μ„ μ‹μ‘ν•λ” μ‹μ μ—μ„ λ¨λ“  μ”κµ¬μ‚¬ν•­μ„ μμ§‘ν•λ” κ²ƒμ΄ λ¶κ°€λ¥μ— κ°€κΉλ‹¤. κ°λ°μ΄ μ§„ν–‰λλ” λ™μ• μ”κµ¬μ‚¬ν•­μ΄ λ³€κ²½λκΈ°λ•λ¬Έμ—, μ¤λ μ”κµ¬ν•λ” κΈ°λ¥μ„ μ¨μ „ν μν–‰ν•λ©΄μ„ λ‚΄μΌμ λ³€κ²½μ„ μμ©ν•  μ μλ„λ΅ μ†ν”„νΈμ›¨μ–΄λ¥Ό μ„¤κ³„ν•΄μ•Όν•λ‹¤.<br/>

<br/>

`MovieFinder` ν΄λμ¤μ—λ” ν¬κ² λ‘ κ°€μ§€ κ΄€μ‹¬μ‚¬κ°€ μλ‹¤.

- CSV νμΌλ΅ μ‘μ„±λ μν™” λ©”νƒ€λ°μ΄ν„°λ¥Ό μ½μ–΄λ“¤μ΄κΈ°
- μ΅°κ±΄μ— λ§λ” μν™”λ¥Ό κ²€μƒ‰ν•κΈ°

<br/><br/>

μ„ κ΄€μ‹¬μ‚¬λ¥Ό μƒμ†κ³Ό λ‹¤ν•μ„±μ„ μ΄μ©ν•΄μ„ λ¶„λ¦¬ν•΄λ³΄μ

## 2. μƒμ†κ³Ό λ‹¤ν•μ„±μ„ μ΄μ©ν•΄ λ΅μ§μ„ λ¶„λ¦¬

- `MovieFinder` ν΄λμ¤λ¥Ό μ¶”μƒν™” ν΄λμ¤λ΅, `loadMovies` λ©”μ†λ“λ„ μ¶”μƒ λ©”μ†λ“λ΅ λ³€κ²½ν•λ‹¤.
- `moviebuddy.domain`μ— ν΄λμ¤ `CsvMovieFinder`κ³Ό `XmlMovieFinder`λ¥Ό μƒμ„±ν•©λ‹λ‹¤.
- λ‘ ν΄λμ¤ λ¨λ‘ `MovieFinder`λ¥Ό μƒμ†λ°›μ€ ν›„, λ‚΄λ¶€μ—μ„ `loadMovies`λ¥Ό μ •μν•©λ‹λ‹¤.
  - `@Override` μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•΄ λ©”μ†λ“ μ¤λ²„λΌμ΄λ”©μ„ ν•©λ‹λ‹¤.

![](./csv.png)

<br/><br/>

> μ΄μ²λΌ λ¶€λ¨ ν΄λμ¤μ— κΈ°λ³Έμ μΈ μ•κ³ λ¦¬μ¦μ νλ¦„μ„ κµ¬ν„ν•κ³  μ¤‘κ°„μ— ν•„μ”ν• μ²λ¦¬λ¥Ό μμ‹ ν΄λμ¤μ—κ² μ„μ„ν•λ” κµ¬μ΅°λ¥Ό ν…ν”λ¦Ώ λ©”μ†λ“ ν¨ν„΄μ΄λΌκ³  ν•λ‹¤.

## κ·ΈλΌ μƒμ†μ΄ μ½”λ“ μ¬μ‚¬μ©λ©΄μ—μ„ κ°€μ¥ μΆ‹μ€ λ°©λ²•μΌκΉ?

κ·Έλ ‡μ§„μ•λ‹¤...! <br/>

μƒμ†μ€ μ•„λ λ‘ κ°€μ§€ κ΄€μ μ—μ„ μ„¤κ³„μ— μ• μΆ‹μ€ μν–¥μ„ λΌμΉλ‹¤.<br/>

- μΊ΅μν™”λ¥Ό μ„λ°ν•λ‹¤.
- μ„¤κ³„λ¥Ό μ μ—°ν•μ§€ λ»ν•κ² λ§λ“ λ‹¤.

<br/>

μ½”λ“λ¥Ό μ¬μ‚¬μ©ν•κΈ° μ„ν•΄μ„λ” `μƒμ†`λ³΄λ‹¤λ” `ν•©μ„±`μ„ λ¨Όμ € κ³ λ ¤ν•λ” κ²ƒμ΄ μΆ‹λ‹¤. (μ¶”μƒ ν΄λμ¤λ³΄λ‹¤λ” μΈν„°νμ΄μ¤λ¥Ό μ°μ„ ν•΄λΌ!)

<br/>

### ν•©μ„±μ΄λ€?

ν•©μ„±μ€ λ‹¤λ¥Έ κ°μ²΄μ μΈμ¤ν„΄μ¤λ¥Ό μμ‹ μ μΈμ¤ν„΄μ¤ λ³€μλ΅ ν¬ν•¨ν•΄μ„ μ¬μ‚¬μ©ν•λ” λ°©λ²•μ„ λ§ν•λ‹¤.

> κ°μ²΄λ” μΈν„°νμ΄μ¤λ¥Ό ν†µν•΄ μ°Έμ΅°ν•΄λΌ!

<br/>

**μΈν„°νμ΄μ¤**λ” μλ°”κ°€ μ¶”μƒν™”λ¥Ό μ„ν•΄ μ κ³µν•λ” μ μ©ν• λ„κµ¬μ΄λ‹¤. <br/>

μΈν„°νμ΄μ¤λ” μ •μλ λ©”μ‹μ§€λ¥Ό ν†µν•΄μ„λ§ μ¬μ‚¬μ©μ΄ κ°€λ¥ν•κΈ° λ•λ¬Έμ— κµ¬ν„μ„ ν¨κ³Όμ μΌλ΅ μΊ΅μν™”ν•  μ μμΌλ©°, μ°Έμ΅°λλ” μΈμ¤ν„΄μ¤λ¥Ό κµμ²΄ν•λ” κ²ƒμ΄ λΉ„κµμ  μ‰½κΈ° λ•λ¬Έμ— μ„¤κ³„λ¥Ό μ μ—°ν•κ² λ§λ“¤μ–΄μ¤€λ‹¤.<br/>

<br/>

μ¦‰, μ½”λ“λ¥Ό μ¬μ‚¬μ©ν•κΈ° μ„ν•΄μ„λ” μƒμ†λ³΄λ‹¤λ” ν•©μ„±μ΄ λ” μΆ‹μ€ λ°©λ²•μ΄λ‹¤.<br/>

<br/>

μƒμ†μ„ μ΄μ©ν• λ°©λ²•μ—μ„ ν•©μ„±μ„ μ΄μ©ν• λ°©λ²•μΌλ΅ λ‹¤μ‹ λ°”κΏ”λ³΄μ!

## 3. ν•©μ„±μ„ μ΄μ©ν•΄ λ¶„λ¦¬

> `MovieFinder` ν΄λμ¤λ¥Ό μ¶”μƒ ν΄λμ¤μ—μ„ μΌλ° ν΄λμ¤λ΅ λ‹¤μ‹ λ°”κΎΈκ³  μƒλ΅μ΄ μΈν„°νμ΄μ¤ `MovieReader`λ¥Ό μƒμ„±ν•΄λ³΄μ
>
> - `MovieReader` μΈν„°νμ΄μ¤λ” λ‚΄λ¶€μ— `loadMovies`λΌλ” λ©”μ†λ“κ°€ μ •μλλ‹¤.
> - `MovieReader` μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• `CsvMovieReader`μ™€ `XMlMovieReader`λ¥Ό μ‘μ„±ν•΄λ³΄μ!

<br/>

**μ„μ—μ„ μƒμ†κ³Ό λ‹¤ν•μ„±μ„ μ„ν•΄ μμ •ν• μ½”λ“λ¥Ό λ¨λ‘ λ³µκµ¬ν–λ‹¤λ” κ°€μ •ν•μ κ³Όμ •μ…λ‹λ‹¤.**

- `moviebuddy.domain`μ— `MovieReader`λΌλ” μ΄λ¦„μ μΈν„°νμ΄μ¤λ¥Ό μƒμ„±ν•λ‹¤.
- `MovieReader`μ•μ—μ„ `loadMovies`λΌλ” ν•¨μλ¥Ό μ •μν•λ‹¤.

```java
package moviebuddy.domain;

import java.util.List;

public interface MovieReader {
	List<Movie> loadMovies();
}
```

<br/>

- `moviebuddy.domain` μ— ν΄λμ¤ `CsvMovieReader`λ¥Ό λ§λ“­λ‹λ‹¤.
- implementsλ¥Ό μ‚¬μ©ν•΄μ„ `MovieReader`λ¥Ό μ°Έμ΅°ν•κ² ν• λ’¤, ν΄λμ¤μ•μ—μ„ μ¤λ²„λΌμ΄λ”©μ„ μ‚¬μ©ν•΄ ν•¨μ `loadMovies`λ¥Ό μ‘μ„±ν•©λ‹λ‹¤.

![](./csvmoviereader.png)

<br/>

- `MovieFinder` ν΄λμ¤μ—μ„ `MovieReader`κ°μ²΄λ¥Ό μƒμ„± ν›„ κ°μ²΄λ¥Ό μ‚¬μ©ν•΄ `loadMovies`ν•¨μλ¥Ό λ¶λ¬μµλ‹λ‹¤.

![](load-reader.png)

## νκ³ 

μ¤λμ€ μ¤ν”„λ§μ λ΅μ§μ„ λ¶„λ¦¬ν•΄λ΄¤λ‹¤.<br/>

λ‘ κ°€μ§€ λ°©λ²•μ„ μ‚¬μ©ν–λ”λ° μ²« λ²μ§Έλ” "μƒμ†κ³Ό λ‹¤ν•μ„±"μ„ μ΄μ©ν• λ°©λ²•μ΄κ³  λ‘ λ²μ§Έλ” "ν•©μ„±"μ„ μ΄μ©ν• λ°©λ²•μ΄λ‹¤.<br/>

μ¥κ³ λ΅ λ°±μ—”λ“λ¥Ό κ°λ°ν•λ©΄μ„λ„ μƒμ†μ„ μΆ…μΆ… μ‚¬μ©ν•΄λ΄¤κΈ°μ— μƒμ†κ³Ό λ‹¤ν•μ„±μ€ μµμ™ν• λ°©λ²•μ΄μ—μ§€λ§ ν•©μ„±μ€ μ¤λ μ²μ ν•΄λ΄¤λ‹¤. <br/>

μ²μ ν•΄λ³Έκ±°λΌ κ·Έλ°μ§€ μƒμ†κ³Ό ν•©μ„±μ μ°¨μ΄κ°€ ν¬κ² λ‹¤κ°€μ¤μ§€μ•μ•λ‹¤... κµ‰μ¥ν λΉ„μ·ν•λ‹¤κ³  λκ»΄μ΅λ”λ°, λ‹¤λ¥Έκ² μλ‹¤λ©΄ μ¶”μƒν΄λμ¤λ΅ λ¶„λ¦¬ν•λλƒ, μΈν„°νμ΄μ¤λ΅ λ¶„λ¦¬ν•λλƒμ μ°¨μ΄...?<br/>

κ·Έλμ„ μ¶”μƒν΄λμ¤μ™€ μΈν„°νμ΄μ¤μ μ°¨μ΄λ¥Ό λ” μμ„Έν•κ² μ•μ•„λ³΄κΈ°λ΅ ν–λ‹¤.<br/>

μ¶”μƒν΄λμ¤μ™€ μΈν„°νμ΄μ¤μ μ°¨μ΄λ¥Ό μ•μ•„λ³΄κΈ° μ „μ— λ‘ κ°μ κ°λ…μ„ λ” μμ„Έν κ³µλ¶€ν•΄λ³΄μ.

### μ¶”μƒν΄λμ¤

> μ¶”μƒν΄λμ¤λ” λ‚΄λ¶€μ— ν•λ‚ μ΄μƒμ `μ¶”μƒ λ©”μ†λ“`κ°€ μκ±°λ‚ abstractμΌλ΅ μ •μλ κ²½μ°λ¥Ό λ§ν•λ‹¤.<br/>
>
> - μ¶”μƒλ©”μ†λ“λ” λ‚΄λ¶€κ°€ μ•„μ§ κµ¬ν„λμ§€ μ•μ€ λ©”μ†λ“λ¥Ό λ§ν•λ‹¤.
>   - μ„ μ–Έλ¶€λ§ μ‘μ„±ν•κ³  κµ¬ν„λ¶€λ” μ‘μ„±ν•μ§€ μ•μ€ λ©”μ†λ“
>   - μƒμ†λ°›λ” ν΄λμ¤μ— λ”°λΌ κµ¬ν„λλ” λ‚΄μ©μ΄ λ‹¬λΌμ§ μ μλ‹¤.
> - μ¶”μƒ λ©”μ†λ“λ” abstractμΌλ΅ μ •μν•λ‹¤.
> - ν΄λμ¤μ•μ— μ¶”μƒ λ©”μ†λ“κ°€ ν•λ‚λΌλ„ μλ‹¤λ©΄, κ·Έ ν΄λμ¤λ” μ¶”μƒν΄λμ¤μ΄λ‹¤.

<br/>

- μ¶”μƒν΄λμ¤μ—λ” μ¶”μƒ λ©”μ†λ“μ™Έμ— μΌλ°μ μΈ λ©”μ†λ“κ°€ λ“¤μ–΄κ° μλ„ μλ‹¤.
- μ¶”μƒν΄λμ¤λ” μΌλ° λ³€μλ“¤μ„ κ°€μ§ μ μλ‹¤.
- μ¶”μƒν΄λμ¤μ λ©μ μ€ ν™•μ¥μ΄λ‹¤. μƒμ†μ„ ν†µν•΄ μμ‹ν΄λμ¤μ—μ„ λ‚΄μ©μ΄ μ™„μ„±λλ„λ΅ μ λ„ν•λ” ν΄λμ¤μ΄λ‹¤.
- μƒμ„±μκ°€ μ΅΄μ¬ν•  μλ„ μλ‹¤.
- μƒμ†μ„ μ„ν• ν΄λμ¤μ΄κΈ°μ— νΌμμ„ κ°μ²΄λ¥Ό μƒμ„±ν•  μ μ—†λ‹¤.
- λ‹¤μ¤‘ μƒμ†μ΄ λ¶κ°€λ¥ν•λ‹¤.

<br/>

```java
abstrack class ν΄λμ¤λ… {
    ...
    public abstract void λ©”μ„λ“λ…();
}
```

### μΈν„°νμ΄μ¤

> λ‚΄λ¶€μ λ¨λ“  λ©”μ†λ“κ°€ μ¶”μƒ λ©”μ†λ“μ΄λ‹¤.
>
> - μΈν„°νμ΄μ¤μ λ¨λ“  λ©”μ„λ“λ” `public abstract`λ΅ μ„ μ–Έν•΄μ•Ό ν•λ©°, μ΄λ” μƒλµλ  μ μλ‹¤. (μ»΄νμΌμ‹ μλ™μΌλ΅ μƒμ„±)
> - λ¨λ“  λ©¤λ²„ λ³€μλ” `public static final` μ΄μ–΄μ•Όν•λ©°, μ΄λ” μƒλµλ  μ μλ‹¤. (μ»΄νμΌμ‹ μλ™μΌλ΅ μƒμ„±)

<br/>

- μΈν„°νμ΄μ¤λ” μΌλ° λ©”μ†λ“, μΌλ° λ³€μλ¥Ό κ°€μ§ μ μ—†λ‹¤. (μΈν„°νμ΄μ¤ λ³€μλ“¤μ€ staticμ΄μ–΄μ•Όλ§ ν•λ‹¤.)
- μΈν„°νμ΄μ¤ λν• νΌμμ„ κ°μ²΄λ¥Ό μƒμ„±ν•  μ μ—†λ‹¤.
- λ‹¤μ¤‘ μƒμ†μ΄ κ°€λ¥ν•λ‹¤.

```java
interface μΈν„°νμ΄μ¤λ… {
    ...
    public abstract void λ©”μ„λ“λ…();
    public default void λ©”μ„λ“λ…() {};
}
```

### μ¶”μƒν΄λμ¤ vs μΈν„°νμ΄μ¤

`is a kind of` μ™€ `be able to`λ΅ κµ¬λ¶„λκΈ°λ„ ν•λ‹¤.

![](./relation.jpeg)

μƒμ†μ κ²½μ° Humanμ€ Creatureμ΄λ‹¤. μ²λΌ `is a kind of`λ΅ λ‚νƒ€λ‚Ό μ μκ³  ν™•μ¥μ κ°λ…μ΄λ‹¤.<br/>

ν•©μ„±μ κ²½μ° μ‚¬λ Janμ€ ν”„λ΅κ·Έλλ¨Έμ΄λ©΄μ„ μμμ„ ν•  μ μλ‹¤ μ²λΌ `be able to`μ μ„±κ²©μ„ μ§€λ‹™λ‹λ‹¤.

<br/><br/>

κ²°λ΅ μ€, μλ°”μ νΉμ„±μƒ ν• κ°μ ν΄λμ¤λ§μ΄ μƒμ†κ°€λ¥ν•κΈ°λ•λ¬Έμ— ν΄λμ¤μ κµ¬λ¶„μ€ μƒμ†μ„ ν†µν•΄ ν•΄κ²°ν•κ³ , ν•΄λ‹Ή ν΄λμ¤κ°€ ν•  μ μλ” κΈ°λ¥λ“¤μ€ μΈν„°νμ΄μ¤λ΅ κµ¬ν„ν•λ‹¤κ³  λ³΄λ©΄ λ  κ²ƒ κ°™λ‹¤. <br/>

μ„ μμ μ²λΌ μ¶”μƒν΄λμ¤λ” λ¶€λ¨μ™€ μμ‹μ΄ μ­‰ μ—°κ²°λμ–΄μκ³  μ΅°μƒμ λ¨λ“  κΈ°λ¥λ“¤μ„ μμ‹μ΄ μƒμ†λ°›λ”λ‹¤. κ·Έλ¬λ‚ μΈν„°νμ΄μ¤λ” Janκ³Ό Turtleμ²λΌ λ‹¤λ¥Έ μ΅°μƒν΄λμ¤λ¥Ό μƒμ†λ°›κ³  μλ”λΌλ„, κ°™μ€ κΈ°λ¥μ„ κ³µμ ν•κ³  μλ‹¤λ©΄ λ‘ λ‹¤ κ°™μ€ μΈν„°νμ΄μ¤λ¥Ό μ°Έμ΅°ν•  μλ„ μλ‹¤.

μ°Έκ³  μλ£ :

https://wildeveloperetrain.tistory.com/112

https://myjamong.tistory.com/150
