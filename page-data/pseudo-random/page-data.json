{"componentChunkName":"component---src-templates-post-jsx","path":"/pseudo-random/","result":{"data":{"site":{"siteMetadata":{"title":"hongo"}},"markdownRemark":{"id":"9a54b7cc-4a15-5b76-8fac-388d5b9e7d11","excerpt":"난수 생성 난수는 왜 필요? 그냥 대부분의 암호에 필요하다... 보통 key에 사용됨 암호의 안전성은 key에 기반하기때문에 key생성이 중요함 난수의 조건 Randomness  : 나올 수 있는 수들의 분포가 균일해야한다  : 서로 독립적. 긴 시퀀스로 봤을 때 부분 부분간의 연관관계가 없어야함. 반복되는 구간이 존재하지않는다. Unpredictabil…","html":"<h2>난수 생성</h2>\n<blockquote>\n<p><strong>난수는 왜 필요?</strong></p>\n<p>그냥 대부분의 암호에 필요하다... 보통 key에 사용됨</p>\n<p>암호의 안전성은 key에 기반하기때문에 key생성이 중요함</p>\n</blockquote>\n<h4>난수의 조건</h4>\n<ul>\n<li>\n<p>Randomness</p>\n<p><code class=\"language-text\">Uniform distribution</code> : 나올 수 있는 수들의 분포가 균일해야한다</p>\n<p><code class=\"language-text\">Independence</code> : 서로 독립적. 긴 시퀀스로 봤을 때 부분 부분간의 연관관계가 없어야함. 반복되는 구간이 존재하지않는다.</p>\n</li>\n<li>\n<p>Unpredictability</p>\n<p>예측이 불가능해야한다</p>\n<p>어떤 구간을 보고 그 다음 구간을 예측할 수 없어야한다</p>\n</li>\n</ul>\n<h3>Pseudorandom Numbers</h3>\n<blockquote>\n<p>난수를 만드는 것은 자원이 많이 드는 일</p>\n<p>진짜 랜덤은 아니지만 랜덤처럼 보이는 시퀀스를 만들어내는 알고리즘이 더 일반적</p>\n<p>Deterministic algorithm</p>\n</blockquote>\n<ul>\n<li>TRNG = 진짜 난수 생성기</li>\n<li>PRNG = 수도 난수 생성기 : 무한 stream 출력</li>\n<li>PRF = 수도 난수 함수 : 길이가 정해져있는 value 출력</li>\n</ul>\n<h3>TRNG</h3>\n<ul>\n<li>entropy를 만들어내는 함수로 entropy source라고도 불린다</li>\n<li>물리적인 특성들을 가지고와서 사용하는 경우가 많다</li>\n</ul>\n<p> ex) keystroke timing, disk electrical activity, mouse movements</p>\n<ul>\n<li>보통 TRNG로 seed를 만들고 PRNG를 돌려서 더 긴 시퀀스를 만들어낸다</li>\n<li>아날로그 소스들을 받아서 바이너리 아웃풋으로 내보낸다</li>\n<li>경우에 따라서 bias가 있기도 한다 : 이럴경우 bias를 처리해줘야함</li>\n</ul>\n<h3>PRNG</h3>\n<ul>\n<li>deterministic algorithm</li>\n<li>key stream을 만들어낸다</li>\n<li>input이 정해지면 output도 정해진다</li>\n<li>그렇기에 seed값을 안전하게 잘 보호해야함</li>\n</ul>\n<h3>PRF</h3>\n<ul>\n<li>길이가 고정된 아웃풋을 만들어낸다</li>\n</ul>\n<h2>PRNG와 PRF의 조건</h2>\n<ul>\n<li>Randomness</li>\n<li>Unpredictability</li>\n<li>Characteristics of the seed : seed를 안전하게 보관한다</li>\n</ul>\n<p>진짜 난수는 아니지만 난수성을 만족</p>\n<p>seed를 모르면 PRNG가 만들어낸 아웃풋이 랜덤처럼 보여야한다</p>\n<h2>Randomness 정량적 평가 방법</h2>\n<ul>\n<li>Frequency test: 0과 1이 몇 개씩 나오는지 확인</li>\n<li>Runs test : 같은 비트가 반복되면 안됨</li>\n<li>Maurer's universal statistical test : 시퀀스를 압축을 시켰을 때 잘 되는지</li>\n</ul>\n<p>등등 15가지가 존재</p>\n<h2>Seed Requirements</h2>\n<ul>\n<li>시드는 secure하고 unpredictable해야한다</li>\n<li>수도랜덤넘버를 사용하기도하지만 시드는 보통 진짜 랜덤, TRNG로 만든다</li>\n</ul>\n<h2>Algorithm Design</h2>\n<p><strong>PRNG 알고리즘 설계</strong></p>\n<ul>\n<li>이미 존재하는 암호 알고리즘을 기반으로 만들거나</li>\n<li>난수 생성 자체를 목적으로, 전용으로 만들어서 쓸 수도있음</li>\n</ul>\n<h2>Linear Congruential Generator : 안전 x</h2>\n<ul>\n<li>많이 생성하는 난수 생성기이나 암호학적으로는 사용할 수 없음</li>\n<li>X0은 seed</li>\n<li>1차식이기 때문에 위험</li>\n</ul>\n<h2>PRNG Using Block Cipher Modes of Operation</h2>\n<ul>\n<li>CTR mode</li>\n<li>OFB mode</li>\n</ul>\n<h3>NIST CTR_DRBG</h3>\n<ul>\n<li>Counter mode</li>\n<li>굉장히 많이 쓰임. Intel cpu에서도 사용</li>\n<li>entropy source가 있어야함. entropy소스로 부터 seed를 받아서 카운터 기반의 PRNG를 돌려서 긴 수도 랜덤 시퀀스를 만들어낸다</li>\n<li>3DES와 AES를 사용</li>\n</ul>\n<h2>Stream Cipher Desing Considerations</h2>\n<p>수도 랜덤 생성 전용 스트림 함수</p>\n<ul>\n<li>period가 길어야 함. seed값이 같으면 계속 넘버를 생성할 경우 일정 싸이클이 반복되게된다</li>\n<li>true random number stream처럼 보여야한다. - 분포나 연관관계 없어보여야함</li>\n<li>key length가 최소한 128bit - 키가 짧으면 공격자가 추측해보기 쉬움</li>\n<li>비슷한 key length를 가지는 블록싸이퍼와 비슷한 안전성을 갖길 기대</li>\n</ul>\n<h3>RC4</h3>\n<p>키 사이즈 변경 가능</p>\n<p>바이트 단위로 연산가능</p>\n<p>SSL에 사용됐었음</p>\n<p>후속버전임 TLS에서도 쓰였음</p>\n<p>무선랜에서도 쓰였</p>\n<p><strong>그러나 broken됐음...</strong></p>\n<h3>ChaCha20</h3>\n<p>Salsa20암호를 살짝 바꾼...</p>\n<h2>TRNG and Entropy Source</h2>\n<ul>\n<li>nondeterministic</li>\n<li>Sound/Vide, Disk driver 등을 모아서 trun random number를 만들기위한entropy source로 사용한다</li>\n</ul>\n<h2>Conditioning</h2>\n<p>entropy source가 있으면 다 해결?</p>\n<p>bias가 있을수도</p>\n<p>후처리필요</p>\n<p>후처리를 해서 bias를 없앴을때 동전던지기를 몇번 한 효과가 있을것이냐를 디지털화된 노이즈 소스가 제공하는 난수성이 어느정도냐 entropy ratio</p>\n<p>bias를 conditioning알고리즘으로 돌려서 랜덤 효과를 늘림</p>\n<h2>Intel Digital Random Number Generator</h2>\n<p>bias가 있어도 AES를 돌리다보면 random한 것 처럼 변함</p>\n<p>Ring Oscillator기반의 entropy source에다가 AES CBC MAC을 집어넣어서 컨디셔닝을 해서 TRNG를 만들고 AES couter mode를 돌려서 PRNG를 만든다</p>\n<p>intel에서 이걸 써먹을 수 있는 라이브러리를 줌</p>","frontmatter":{"title":"7-2 난수 생성","date":"April 18, 2022","update":null,"tags":["computer protection"],"series":"컴퓨터 보안"},"fields":{"slug":"/pseudo-random/","readingTime":{"minutes":5.97}}},"seriesList":{"edges":[{"node":{"id":"e4acbdfb-722b-57a9-80ae-d895e0db1293","fields":{"slug":"/access-control/"},"frontmatter":{"title":"1-2 Access Control"}}},{"node":{"id":"4a6f8d90-3618-56c6-8559-879e5ecc9bf4","fields":{"slug":"/number-theory/"},"frontmatter":{"title":"2-2 Number Theory"}}},{"node":{"id":"0bd2f3a2-2ebf-58a4-b9b1-3362f3eb162d","fields":{"slug":"/osi-structure/"},"frontmatter":{"title":"1-1 OSI 보안 구조"}}},{"node":{"id":"c09c6352-565d-5712-bd74-a03fc2d175a7","fields":{"slug":"/cia-aa/"},"frontmatter":{"title":"1-1 컴퓨터 보안의 요구 조건 (CIA + AA)"}}},{"node":{"id":"7e8ccf0c-4d31-5ed5-834d-372268de637e","fields":{"slug":"/aes-process/"},"frontmatter":{"title":"5-2 AES Process"}}},{"node":{"id":"c18d6769-2773-5438-80d8-71766e893de4","fields":{"slug":"/cp-danger/"},"frontmatter":{"title":"4-1 다양한 보안 위협"}}},{"node":{"id":"31a7ca0e-a91b-5b21-90ba-72df9a459e48","fields":{"slug":"/multi-enc/"},"frontmatter":{"title":"6-2 Modes of Operation"}}},{"node":{"id":"dc9ea5bb-374d-534c-a413-adc23222b506","fields":{"slug":"/symmetric-cipher/"},"frontmatter":{"title":"3-2 Symmetric Cipher Model (고전 암호)"}}},{"node":{"id":"9a54b7cc-4a15-5b76-8fac-388d5b9e7d11","fields":{"slug":"/pseudo-random/"},"frontmatter":{"title":"7-2 난수 생성"}}},{"node":{"id":"81096a32-03d0-5672-bd39-ceaaefef6160","fields":{"slug":"/web-hack/"},"frontmatter":{"title":"5-1 Web Hacking Overview"}}},{"node":{"id":"33246c96-e01f-5f26-9fe0-935c2ea6d6c8","fields":{"slug":"/finite-field/"},"frontmatter":{"title":"4-2 finite field (Galois Field)"}}},{"node":{"id":"44143c20-8cd6-52c5-a65b-38ae0c254d40","fields":{"slug":"/steam-block/"},"frontmatter":{"title":"4-2 Stream Cipher와 Block Cipher"}}},{"node":{"id":"1cb1eed8-1228-5d4b-8147-ba3cbfbb1ac9","fields":{"slug":"/dos-attack/"},"frontmatter":{"title":"7-1 DoS attack"}}},{"node":{"id":"8ef6b148-c9b0-5e0f-8262-9d5c903ff8da","fields":{"slug":"/arp-attack/"},"frontmatter":{"title":"9-1"}}},{"node":{"id":"723a031e-e408-592d-875a-0ebc19f93a34","fields":{"slug":"/1-network-security/"},"frontmatter":{"title":"9-1 "}}},{"node":{"id":"540db76b-63f4-546a-bab2-98f6dc615676","fields":{"slug":"/public-key/"},"frontmatter":{"title":"9-2"}}},{"node":{"id":"e9c57be2-d977-5fbc-adab-f5d561e162d2","fields":{"slug":"/rsa-mod/"},"frontmatter":{"title":"10-1"}}},{"node":{"id":"8a943633-5d6b-5251-89a3-2c7806793dc4","fields":{"slug":"/rsa-mod/"},"frontmatter":{"title":"10-1"}}},{"node":{"id":"50d433cf-eb0f-543e-a2ab-b910ab2da972","fields":{"slug":"/other-public-key/"},"frontmatter":{"title":"10-2"}}},{"node":{"id":"4b4d9c37-4c09-5364-a635-b279835081b6","fields":{"slug":"/2-hash-func/"},"frontmatter":{"title":"11-2"}}},{"node":{"id":"e5769a05-01a2-595d-8e10-8ff79bd8dc19","fields":{"slug":"/1/"},"frontmatter":{"title":"11-1"}}},{"node":{"id":"e89c1c7f-6f2e-5033-b1d9-790b11ad95d2","fields":{"slug":"/1/"},"frontmatter":{"title":"12-1"}}},{"node":{"id":"54f259cd-800a-566f-9aba-1375697c0710","fields":{"slug":"/2/"},"frontmatter":{"title":"12-2"}}},{"node":{"id":"c66fa2c3-ac99-52b6-9542-acf2ef40f48d","fields":{"slug":"/2/"},"frontmatter":{"title":"13-2"}}},{"node":{"id":"5d789f23-5ef9-5d59-82c9-f7f6fbc87ddc","fields":{"slug":"/1/"},"frontmatter":{"title":"13-1"}}},{"node":{"id":"94edf4db-f16b-5415-bac7-a0631d61876c","fields":{"slug":"/2/"},"frontmatter":{"title":"14-2"}}},{"node":{"id":"6801285e-c42f-5541-b35b-192c80ea0bd0","fields":{"slug":"/1/"},"frontmatter":{"title":"14-1"}}}]},"previous":{"fields":{"slug":"/symmetric-cipher/"},"frontmatter":{"title":"3-2 Symmetric Cipher Model (고전 암호)"}},"next":{"fields":{"slug":"/web-hack/"},"frontmatter":{"title":"5-1 Web Hacking Overview"}}},"pageContext":{"id":"9a54b7cc-4a15-5b76-8fac-388d5b9e7d11","series":"컴퓨터 보안","previousPostId":"dc9ea5bb-374d-534c-a413-adc23222b506","nextPostId":"81096a32-03d0-5672-bd39-ceaaefef6160"}},"staticQueryHashes":[]}