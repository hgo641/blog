{"componentChunkName":"component---src-templates-post-jsx","path":"/4-mission1/","result":{"data":{"site":{"siteMetadata":{"title":"hongo"}},"markdownRemark":{"id":"863e391b-1991-5d43-902c-893582c3af43","excerpt":"📌 미션1  XML 데이터 입력 기능 추가 현재 csv파일형태로 영화 목록 리스트를 받아오고있다. 미션1은 영화 목록 리스트를 xml형태로도 받아올 수 있게 확장하는 것이다.  이번 포스팅에서는 XML 데이터 입력 기능을 구현해보진않지만, 기능을 CSV reader와 XML reader로 나누기 위해 어떤 전략을 취하면 좋을지 얘기해보겠다.  1. 분기문…","html":"<h2>📌 [미션1]  XML 데이터 입력 기능 추가</h2>\n<p>현재 csv파일형태로 영화 목록 리스트를 받아오고있다. 미션1은 영화 목록 리스트를 xml형태로도 받아올 수 있게 확장하는 것이다. <br/></p>\n<p>이번 포스팅에서는 XML 데이터 입력 기능을 구현해보진않지만, 기능을 CSV reader와 XML reader로 나누기 위해 어떤 전략을 취하면 좋을지 얘기해보겠다. </p>\n<h2>1. 분기문으로 로직을 분리해서 구현</h2>\n<p>!<br/><br/><br/></p>\n<p>첫 번째 방법은 분기문으로 로직을 분리하면 된다.<br/></p>\n<p>CSV파일을 받는 함수 <code class=\"language-text\">loadMoviesCSV()</code>와 XML파일을 받는 함수<code class=\"language-text\">loadMoviesXML()</code>를 생성해 아래와 같이 분기문으로 로직을 분리한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>mode <span class=\"token operator\">==</span> <span class=\"token string\">\"CSV\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">loadMoviesCSV</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>mode <span class=\"token operator\">==</span> <span class=\"token string\">\"XML\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">loadMoviesXML</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br/>\n<blockquote>\n<p>그러나 이 방법에는 크나큰 단점이 있으니...<br/></p>\n<p>만약 또 다른 형식의 메타데이터를 읽어야 한다면, 계속해서 <code class=\"language-text\">load MoviesXXX()</code>라는 함수를 만들어야하고 분기문의 처리도 길어진다.<br/></p>\n<p>이렇게 새로운 기능을 추가해야할 때마다 기존의 코드를 변경해야한다면 버그가 발생할 확률이 높아진다.</p>\n</blockquote>\n<h2>소프트웨어 개발시 지켜야 할 것</h2>\n<blockquote>\n<p>오늘 완성해야 하는 기능을 구현하는 코드를 짜야하는 동시에 내일 쉽게 변경할 수 있는 코드를 짜야 한다.</p>\n</blockquote>\n<br/>\n<p>개발을 시작하는 시점에서 모든 요구사항을 수집하는 것이 불가능에 가깝다. 개발이 진행되는 동안 요구사항이 변경되기때문에, 오늘 요구하는 기능을 온전히 수행하면서 내일의 변경을 수용할 수 있도록 소프트웨어를 설계해야한다.<br/></p>\n<br/>\n<p><code class=\"language-text\">MovieFinder</code> 클래스에는 크게 두 가지 관심사가 있다.</p>\n<ul>\n<li>CSV 파일로 작성된 영화 메타데이터를 읽어들이기</li>\n<li>조건에 맞는 영화를 검색하기</li>\n</ul>\n<p><br/><br/></p>\n<p>위 관심사를 상속과 다형성을 이용해서 분리해보자</p>\n<h2>2. 상속과 다형성을 이용해 로직을 분리</h2>\n<ul>\n<li><code class=\"language-text\">MovieFinder</code> 클래스를 추상화 클래스로, <code class=\"language-text\">loadMovies</code> 메소드도 추상 메소드로 변경한다.</li>\n<li><code class=\"language-text\">moviebuddy.domain</code>에 클래스 <code class=\"language-text\">CsvMovieFinder</code>과 <code class=\"language-text\">XmlMovieFinder</code>를 생성합니다.</li>\n<li>\n<p>두 클래스 모두 <code class=\"language-text\">MovieFinder</code>를 상속받은 후, 내부에서 <code class=\"language-text\">loadMovies</code>를 정의합니다.</p>\n<ul>\n<li><code class=\"language-text\">@Override</code> 어노테이션을 사용해 메소드 오버라이딩을 합니다.</li>\n</ul>\n</li>\n</ul>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/blog/static/205bbd6dc33c8728ed5fe579515ec591/3a95e/csv.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 42.35294117647059%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABkUlEQVQoz01SW3LjIBDUafyxNm+EQAIjRbIl2/Ejldz/Kp2BZLf2Y2qoKaa76aa5vd9x2q6YtzO26zsujzu2ywVl/nw98Pn1hfvjiY+PF+7PF9254bRuOK+X2sd5QRonHMc3LKcVTRp6jDnDWgulNJTWsK1Dptk0OCTqPs+1z1OGixldGNC2LVrnoI2Fto72DA4HhkZKgSknxBgJlIb7PYzrEIhRCg5jNEQhkgqSc0gi5FyAMVaLcyrqQgjsdjs0hi6M4xHDMEDSEmMHWAKMywbfGiIaoJWFMAJCSwLg/5X4V4zx+srGO1uXinxFagubrQpnSLZHcgqRCPPZII8Jhp5sjx79m0aYFGxyaHOA6iyG2KMJng59X9HlL6D5BSzMVnH43iOkiOg9fBoIJFQrFCnWSsBoVXdDKIBdi0AXiwd/vbEdKZhmiOIZzZkNpOaIdTlgOh1JUYLrFAVDIvoIRd5LIWugTecDUkrEpKovBYRTCDrEn3Mx3XYYV4/b9Q/GhdK/0s9YOnjfVrUlqKKwhPINaaAH2rTA/7MAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='csv' title='csv' src='/blog/static/205bbd6dc33c8728ed5fe579515ec591/ca1dc/csv.png' srcset='/blog/static/205bbd6dc33c8728ed5fe579515ec591/e7570/csv.png 170w,\n/blog/static/205bbd6dc33c8728ed5fe579515ec591/f46e7/csv.png 340w,\n/blog/static/205bbd6dc33c8728ed5fe579515ec591/ca1dc/csv.png 680w,\n/blog/static/205bbd6dc33c8728ed5fe579515ec591/02d09/csv.png 1020w,\n/blog/static/205bbd6dc33c8728ed5fe579515ec591/9d567/csv.png 1360w,\n/blog/static/205bbd6dc33c8728ed5fe579515ec591/3a95e/csv.png 1558w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p><br/><br/></p>\n<blockquote>\n<p>이처럼 부모 클래스에 기본적인 알고리즘의 흐름을 구현하고 중간에 필요한 처리를 자식 클래스에게 위임하는 구조를 템플릿 메소드 패턴이라고 한다.</p>\n</blockquote>\n<h2>그럼 상속이 코드 재사용면에서 가장 좋은 방법일까?</h2>\n<p>그렇진않다...! <br/></p>\n<p>상속은 아래 두 가지 관점에서 설계에 안 좋은 영향을 끼친다.<br/></p>\n<ul>\n<li>캡슐화를 위반한다.</li>\n<li>설계를 유연하지 못하게 만든다.</li>\n</ul>\n<br/>\n<p>코드를 재사용하기 위해서는 <code class=\"language-text\">상속</code>보다는 <code class=\"language-text\">합성</code>을 먼저 고려하는 것이 좋다. (추상 클래스보다는 인터페이스를 우선해라!)</p>\n<br/>\n<h3>합성이란?</h3>\n<p>합성은 다른 객체의 인스턴스를 자신의 인스턴스 변수로 포함해서 재사용하는 방법을 말한다.</p>\n<blockquote>\n<p>객체는 인터페이스를 통해 참조해라!</p>\n</blockquote>\n<br/>\n<p><strong>인터페이스</strong>는 자바가 추상화를 위해 제공하는 유용한 도구이다. <br/></p>\n<p>인터페이스는 정의된 메시지를 통해서만 재사용이 가능하기 때문에 구현을 효과적으로 캡슐화할 수 있으며,  참조되는 인스턴스를 교체하는 것이 비교적 쉽기 때문에 설계를 유연하게 만들어준다.<br/></p>\n<br/>\n<p>즉, 코드를 재사용하기 위해서는 상속보다는 합성이 더 좋은 방법이다.<br/></p>\n<br/>\n<p>상속을 이용한 방법에서 합성을 이용한 방법으로 다시 바꿔보자!</p>\n<h2>3. 합성을 이용해 분리</h2>\n<blockquote>\n<p><code class=\"language-text\">MovieFinder</code> 클래스를 추상 클래스에서 일반 클래스로 다시 바꾸고 새로운 인터페이스 <code class=\"language-text\">MovieReader</code>를 생성해보자</p>\n<ul>\n<li><code class=\"language-text\">MovieReader</code> 인터페이스는 내부에 <code class=\"language-text\">loadMovies</code>라는 메소드가 정의된다.</li>\n<li><code class=\"language-text\">MovieReader</code> 인터페이스를 구현한 <code class=\"language-text\">CsvMovieReader</code>와 <code class=\"language-text\">XMlMovieReader</code>를 작성해보자!</li>\n</ul>\n</blockquote>\n<br/>\n<p><strong>위에서 상속과 다형성을 위해 수정한 코드를 모두 복구했다는 가정하의 과정입니다.</strong></p>\n<ul>\n<li><code class=\"language-text\">moviebuddy.domain</code>에 <code class=\"language-text\">MovieReader</code>라는 이름의 인터페이스를 생성한다.</li>\n<li><code class=\"language-text\">MovieReader</code>안에서 <code class=\"language-text\">loadMovies</code>라는 함수를 정의한다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">package</span> <span class=\"token namespace\">moviebuddy<span class=\"token punctuation\">.</span>domain</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">List</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">MovieReader</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Movie</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">loadMovies</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br/>\n<ul>\n<li><code class=\"language-text\">moviebuddy.domain</code> 에 클래스 <code class=\"language-text\">CsvMovieReader</code>를 만듭니다.</li>\n<li>implements를 사용해서 <code class=\"language-text\">MovieReader</code>를 참조하게 한 뒤, 클래스안에서 오버라이딩을 사용해 함수 <code class=\"language-text\">loadMovies</code>를 작성합니다.</li>\n</ul>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/blog/static/d183b8cae66ee0882c19d9f73b99a7c3/46352/csvmoviereader.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 45.88235294117647%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABsElEQVQoz2WS6XKjMBCEeRZXnF075tAtEAJhjI8N3vd/m06LjatStT8GBNJ809Oj4v54YF4WDNOEaV5wud1w4fe6roxPrM8nPtcnnvn9/Ivldsf1/sByvWE8XxCnGf2QkM4zxnRG4azGEHtIIVFVFcrTCUJK9J1DcoLF7ix0YVwxX64QQqAsS1SM8hXMqesau90OhVISUxoxjCNCCGiaGto6xJTgZQVrLWoXoJxDbwVs10J1Hc81G+QVWYykkCI/EoF930MptVXTvoVPM1U3BBoeVNvhDHmBMuAn8MS8LKgwWrHliI5V88YL2NKPnGyM3mCKUNGIreWfoP+A1hA4RPi23RLL8sT2PNpxgosJ7bJCS43GEKYZWWXdfKsVW9TfyreWPYeS1Tln2TI3qxIfFataFqCf0Sn0acC4KMSBtoQEM7TozpJdCKjeQEUPHTzef+1R5GkGArN/uZrMU2zkBixLGl19wPFMGwNi57lm4U5CZrWqgtK0hets3dsbgdYbeO95JRbc7n+w8A6eeddMGNiCgNYciqGnY+DwFCPAefvvP309HI74fTjgeDxiv9/jCzJqJlUgttqlAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='csvmoviereader' title='csvmoviereader' src='/blog/static/d183b8cae66ee0882c19d9f73b99a7c3/ca1dc/csvmoviereader.png' srcset='/blog/static/d183b8cae66ee0882c19d9f73b99a7c3/e7570/csvmoviereader.png 170w,\n/blog/static/d183b8cae66ee0882c19d9f73b99a7c3/f46e7/csvmoviereader.png 340w,\n/blog/static/d183b8cae66ee0882c19d9f73b99a7c3/ca1dc/csvmoviereader.png 680w,\n/blog/static/d183b8cae66ee0882c19d9f73b99a7c3/02d09/csvmoviereader.png 1020w,\n/blog/static/d183b8cae66ee0882c19d9f73b99a7c3/9d567/csvmoviereader.png 1360w,\n/blog/static/d183b8cae66ee0882c19d9f73b99a7c3/46352/csvmoviereader.png 1542w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<br/>\n<ul>\n<li><code class=\"language-text\">MovieFinder</code> 클래스에서 <code class=\"language-text\">MovieReader</code>객체를 생성 후 객체를 사용해 <code class=\"language-text\">loadMovies</code>함수를 불러옵니다.</li>\n</ul>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/blog/static/bb80b0a918c3637ac586fefaab644d10/42b9d/load-reader.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 47.05882352941176%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABp0lEQVQoz22S247cIBBE/TvJ2mBuBnPzkLnszmx2HyLl/z+lUjBRokh5aDXYcLq6i6m1E47jBB8CQtixx4SUEs7nb3hcKu7v77g9PnA6X5FzQSl15MwcUx77nsMeeT9i0mpFOwp2wqy1kFJiXVfUWrCtL/DOwPCw9R7zPP8Ty/I3L8syYlIEngjsVQNVdpjWGrke2PSKsGmYVJ5QnnFWYwsCPkloo4eAP8G7UwccR6WiCufsqNKBiZeVYo47ts0RZLEKASkklllALP8JQYW9Yi0ZMUZWWQkUA1g4V6skym4RUoM+MtbPD9jWkFuEj54KedZRqe2huPecoVZUl4cRXYmUYrQdaE7PklWlUpDGwN0aTM5wxSBkDesIseIJNAqqA/vQ4x6GIWqVA/Dl6wtmzTbdxiLbGMXG/4Yd9DEIIUfrvaNVqpGfa4Ep5UBTKi96Qp8Qw1CR3ziOknd4T0OCg6BBikYpzeJmGx2IPtffL6OvJ0WnjLG4XG94fP/E69sbrvc7UrvQYYtWI47zK/bbFfbHT9T7Fe18INXG95ew78/nNs98NlT9C8tSJQ22L5AwAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='load reader' title='load reader' src='/blog/static/bb80b0a918c3637ac586fefaab644d10/ca1dc/load-reader.png' srcset='/blog/static/bb80b0a918c3637ac586fefaab644d10/e7570/load-reader.png 170w,\n/blog/static/bb80b0a918c3637ac586fefaab644d10/f46e7/load-reader.png 340w,\n/blog/static/bb80b0a918c3637ac586fefaab644d10/ca1dc/load-reader.png 680w,\n/blog/static/bb80b0a918c3637ac586fefaab644d10/02d09/load-reader.png 1020w,\n/blog/static/bb80b0a918c3637ac586fefaab644d10/9d567/load-reader.png 1360w,\n/blog/static/bb80b0a918c3637ac586fefaab644d10/42b9d/load-reader.png 1525w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>","frontmatter":{"title":"MovieBuddy - [미션1] XML 데이터 입력 기능 추가","date":"July 15, 2022","update":null,"tags":["spring"],"series":"spring"},"fields":{"slug":"/4-mission1/","readingTime":{"minutes":6.62}}},"seriesList":{"edges":[{"node":{"id":"3a0b0bf0-fd48-5c4c-aa3d-6f68baac5ce0","fields":{"slug":"/1-ot/"},"frontmatter":{"title":"Spring 오리엔테이션"}}},{"node":{"id":"289d0880-983d-530c-a78e-725716fa603d","fields":{"slug":"/2-practice/"},"frontmatter":{"title":"Spring 간단 실습"}}},{"node":{"id":"b41c2f7a-11ab-56c2-9eb7-88ed18d1bfb3","fields":{"slug":"/3-layering/"},"frontmatter":{"title":"Spring 관심사 분리"}}},{"node":{"id":"863e391b-1991-5d43-902c-893582c3af43","fields":{"slug":"/4-mission1/"},"frontmatter":{"title":"MovieBuddy - [미션1] XML 데이터 입력 기능 추가"}}}]},"previous":{"fields":{"slug":"/5-camera/"},"frontmatter":{"title":"멋쟁이사자처럼 X 넥슨 MOD Suppoters Hackathon 6주차 금요일 회고"}},"next":{"fields":{"slug":"/2798/"},"frontmatter":{"title":"백준 2798 블랙잭"}}},"pageContext":{"id":"863e391b-1991-5d43-902c-893582c3af43","series":"spring","previousPostId":"6dc291aa-6c01-52e1-8faf-487d67be2f3b","nextPostId":"1e6f6524-eb8e-5f75-843f-0e3eb90cedc4"}},"staticQueryHashes":[]}