{"componentChunkName":"component---src-templates-post-jsx","path":"/5-2/","result":{"data":{"site":{"siteMetadata":{"title":"hongo"}},"markdownRemark":{"id":"efb55f6c-c7dd-549c-a0c8-bd32a55900f2","excerpt":"AES 현대 Symmetic 암호는 Stream 암호와 Block암호로 구분된다 Block암호에는 대표적으로 AES가 있다 Advanced Encryption의 표준\nDES : 56bit크기의 key 키 크기가 작아서 취약\n키의 크기도 늘리고 성능 유지한게 AES AES structure  ➡  ➡  같은 input이라도 key값에 따라 output차이가…","html":"<h2>AES</h2>\n<ul>\n<li>현대 Symmetic 암호는 Stream 암호와 Block암호로 구분된다</li>\n<li>Block암호에는 대표적으로 AES가 있다</li>\n<li>Advanced Encryption의 표준\nDES : 56bit크기의 key 키 크기가 작아서 취약\n키의 크기도 늘리고 성능 유지한게 AES</li>\n</ul>\n<h2>AES structure</h2>\n<p><code class=\"language-text\">128bit input</code> ➡ <code class=\"language-text\">Encryption</code> ➡ <code class=\"language-text\">128 output</code></p>\n<p>같은 input이라도 key값에 따라 output차이가 발생한다</p>\n<h3>궁극 목적</h3>\n<h4><strong>Bit randomizion effect</strong></h4>\n<p>Block Cipher : finite field 사용\n비트를 랜덤해보이도록 만들어서 최대한 인풋과 아웃풋의 연관관계가 없어보이게</p>\n<ul>\n<li>Field multiplication과 Field inversion을 통해 랜덤하게 변형\n-> 그래서 finite field를 사용한다!\n<em>덧셈(뺄셈)은 반복하면 같아지는 효과가 있어서 제외</em></li>\n</ul>\n<p>왜 덧셈은 반복하면 같아질까?</p>\n<p>field : 사칙연산 덧셈 : randomize효과가 실질적으로 없음. 무작위로 바뀌지않고 계속 유지되는 성질 XOR 같은거 더하면 상쇄됨 연산을 반복한다고해서 복잡도가 올라가지않음</p>\n<h3>Rationale for Binary Field</h3>\n<p>n비트의 int는 2^n 개 표현 가능\n그러나 모듈러 2^n은 field가 될 수 없음 ex) 2^3 = 8\n-> <code class=\"language-text\">GF(2^n)</code>사용 GF안의 모든 polynomial들이 n비트 넘버를 표현</p>\n<p>irreducible polynomial :\n(GF기준으로 x2 + 1도 인수분해 가능.)\n<span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 651px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/0b6c7cb18ba6db9c31370d24e7a6ee5d/b7e05/ex.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 16.470588235294116%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAo0lEQVQI1zWO2xKCMAxE+f+v00HFwRuXlhZokqK8rwuOD5kkO7snKXL6wOoHtPHY5jyz0gLrAnJU5H8fM6xxsDb8ND9RM1gQeiOUuzFfaB+RjiVSeYYxaH6GdgPk2UNPFfUL9NkR5iGHElLdoPULer1DHSHR6A+QgTlZUYgbIa1HchES0n4pETY23Pn5dih5eviJTBkib6iuewkBG0T2mfq84AvlWt9JWJX7fgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='ex' title='ex' src='/static/0b6c7cb18ba6db9c31370d24e7a6ee5d/b7e05/ex.png' srcset='/static/0b6c7cb18ba6db9c31370d24e7a6ee5d/e7570/ex.png 170w,\n/static/0b6c7cb18ba6db9c31370d24e7a6ee5d/f46e7/ex.png 340w,\n/static/0b6c7cb18ba6db9c31370d24e7a6ee5d/b7e05/ex.png 651w' sizes='(max-width: 651px) 100vw, 651px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<ol>\n<li>모드2 이므로 2x 추가</li>\n<li><code class=\"language-text\">+</code>와 <code class=\"language-text\">-</code>가 같으므로 <code class=\"language-text\">x^2 - 1</code>로 변환</li>\n</ol>\n<h3>State</h3>\n<blockquote>\n<p>AES에서 쓰는 기본 자료구조<br>\n128bit : byte를 16개(4x4)의 형태이다\nplain text, cipher text모두 128bit 단위로 암호화된다.</p>\n</blockquote>\n<p>round key == subkey<br>\nround key의 비트는 똑같지만 개수가 많아짐 : expanded key</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/451f1bf60a47b09b5b9b63181c1c2a26/e7956/key.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 32.35294117647059%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABYElEQVQY0y2P23LaQBBE+f9fSfxgUlGVEVjSgnbFyggZY4QuiJsdHANyHH/AyUiVh6nunpntnu0150+ubx9cz39pLl+CXzTCr++f/0t42z9dpJpu3urm9Uzz+4/siha8vJw7j96j0iSjgLmZYUOLCQxxlPCyf+MkS/mqJJ5axv0+8zAkTRdoP8D0b0mlnyQpeuBiHIciK+hFzh3RD4dwpAi9CamdM7MpSbzAmkTMHjA6xLv5Tux7mChCjYaom29EKiCaTgmcnxJ4y3KxpOffTxje3eN7IQPBmRitngoW84wq3/OYLtFaM3RdpsYQClfjCZ5SaNGRBPiBkvceT61hFD6gfI0e2+6rbY19g/I0GzHMVoUYSpg7wFrLtL0o8BkO3U7Hse3CPDF8Xmb0ttWR7LmkXG/loh11eeh4sa55Pb5z3P1iU+1YZyXbzZ662lPmNbnoWvR2c5BZQb6uOB5O/APrLJ3DJhGa4wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='key' title='key' src='/static/451f1bf60a47b09b5b9b63181c1c2a26/ca1dc/key.png' srcset='/static/451f1bf60a47b09b5b9b63181c1c2a26/e7570/key.png 170w,\n/static/451f1bf60a47b09b5b9b63181c1c2a26/f46e7/key.png 340w,\n/static/451f1bf60a47b09b5b9b63181c1c2a26/ca1dc/key.png 680w,\n/static/451f1bf60a47b09b5b9b63181c1c2a26/e7956/key.png 934w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<ul>\n<li>key는 bit 수가 다른 여러가지 key가 있지만 plaintext는 항상 128bit로 고정이다</li>\n</ul>\n<blockquote>\n<p>key size, 비트수가 커지면 round수도 커진다<br>\n각 round별로 키가 하나씩 사용된다<br>\nround수가 늘어나면 각 라운드마다 쓰일 서브키(라운드키) 개수가 증가한다<br>\n각각의 서브키 하나의 크기는 128bit로 고정되어있다. 개수만 늘어나는거임!</p>\n</blockquote>\n<blockquote>\n<p>첫라운드전 한 번 + 각 라운드별로 서브키가 하나씩 사용됨<br>\n즉, 라운드키는 라운드 개수+1만큼 필요<br>\n서브키가 16byte 라운드가 10일경우 Expanded Key Size는<br>\n16*11 = 176</p>\n</blockquote>\n<h3>AES Encryption Process</h3>\n<hr>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/f5546aee84410065e4a09db6e2403dbe/2928f/aes-process.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAADwElEQVQ4y3WU6W7bVhCF9f5PUKBAEaBAE7ROg9Q2XCExVMeylkiytVCiuIo7RYrL5SLJdlycziWtyAnSH6OFw/vxzJzhNPJsjzzbIWNbFMUDIj+C2utDH91BGo2xkjW6fo8ip/sokg2DZXpQFQOOGyBdWWCyipztwFmNnO2rPxlFSb89zYL45jXUVz/DlVdIkxKMIg4zFDxvrqF2epBP32M9FZDQAzNJQ54SkPKNLN3WwLhAvk4RUFJ89wcWr36C+qmFWNHg2SH63RF8Z4MwyKD3epBO35I6G0X5RMofayAFAQmWcOAWZfYAf6mi+9cJBmcnGJ6/pdIHiL0Iyt0YPqnn9wmGiBu1C8vzUab3dK2sYJxzBFLwksS5huH1EAr1LzED7It/q1K2+UN1qEj3EEwRveUVbMehMwRMtj8CkkJKOl6I3qSDUfcDhJsmNJv6uMnhKSZSP6YqHjHXZujOPlYKi7QGHkTVwLQG8qeFmwhXnXc4bZ3g/Op33GpTrDUb3Y+XsKm/WUQliyNcUs52ayCrgHU0DuQKmN3DNzxIkzGW8xlWpgE/jJE4IazPfQSiTK7vK2Cr+x62Raawh68Ka1MOdG4K9UkVdUyu+1AlHRGNypaMyp4d5FESYK4L6PCSXfd/Sj5A+SEnwI5uioO8cjAnRUU1q/sqX3CF5HJnxV12qzax57MVMH8BzCm5sX1Imoi5uoRkKLDpULRmCP0UMZnDFQrGAh29Uytk3ynMX7jM5YdxguakiT/bZMzwDHfaBK4RYNC/hW36VWum+pyA3W9KPo5NclTIn+bYa0zlBSbSDOJKguHYNDYFVFVHuE7AohLTlfAM9L7p4fFN4bJ5w8svUGYSFp9nUGUDSVhglz/VuXR7NIX38AfA7ABkuoVEM5G7EQLaIL1hC/2rc0wv3kAxNQSKhfF1Bz5tGA7kCtt6G6brfOcyn0NqNJNUpIqOXLUQJhl6wg1aZ7+hffEaC1nAWlrhbjCEI0i0vkpqhYzb1RjeOqyB6cux4fSoAAsYJXew7A3kwQTGr78gHIxQFk9g1LuEhppZfjU+fEw2tJmslQ9Dc+HRFuKjVSlkz3JZUu+zDZVt/vMJ2t8XsAWxMoIPfFl8qb65cXxRBH4CqfkBy4smrOGYlvAjGG2dRkof/Ad3j4MDUqgKCjTdxmg0wXy6hEWvo6E5pMiDqbtwaMn69GC93YV22YIzWyKjNyqlShtJlCOmSA5BizYjpfGGFqlqwqUxMnUH8tIg5026ZkGnvbihFsUBDfs6omnIvjL+A331wJzMW9EiAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='aes process' title='aes process' src='/static/f5546aee84410065e4a09db6e2403dbe/ca1dc/aes-process.png' srcset='/static/f5546aee84410065e4a09db6e2403dbe/e7570/aes-process.png 170w,\n/static/f5546aee84410065e4a09db6e2403dbe/f46e7/aes-process.png 340w,\n/static/f5546aee84410065e4a09db6e2403dbe/ca1dc/aes-process.png 680w,\n/static/f5546aee84410065e4a09db6e2403dbe/2928f/aes-process.png 691w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\nState (4x4)<br>\n: 평문을 4x4형태에 맞게 열(세로)로 나열함</p>\n<p><strong>initial transformation</strong><br>\n: 평문state와 key state를 xor</p>\n<p><strong>round</strong> : 4가지 프로세스를 반 ~ 복<br>\n(마지막 라운드에선 Mix Columns 수행을 안하긴 함)</p>\n<p><strong>key expansion(key schedule)</strong> = 서브키를 만들어내는 과정</p>\n<h3>Detailed Structure</h3>\n<hr>\n<ul>\n<li>Feistel Cipher는 반으로 나눠서 반만 업데이트했지만 AES는 전체를 업데이트</li>\n<li>결과적으로 AES에서 내부적으로 하는일은 전체적인 데이터의 블록(4x4)들을 substitution과 permutation을 이용해서 업데이트함</li>\n</ul>\n<blockquote>\n<p>key가 128bit = 4 word, round가 10일 때,<br>\n필요한 라운드키는 4*11 word 총 word 44개가 필요<br>\n하나의 열에 8bit짜리 4개가 존재(4byte 한 줄) 이 4개를 합쳐서 하나의 w로<br>\n이를 w[0] ~ w[43]으로 표현할 것임</p>\n</blockquote>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 529px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/f55030ecf16f16aa17fe7378516bb30c/3e20f/aes-ed.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 134.11764705882354%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAYAAAB836/YAAAACXBIWXMAABYlAAAWJQFJUiTwAAAFc0lEQVRIxz1VaW/bVhDU//8HQQskCIq0TtIgsR3Ht+6LInXLuqyTFCmJpERSh+3YxXT2Kc4HgtfjvNmZ2WXMMucwTQfW1MGg1UFXL2MysWGpZ3NMxxaMo3/QTmUwtXg/tdX6+/4Y/d7o9/3rEdttnrDl8fQImLdx6H+8gd/p4+kZCDaPGNZqiL9/C+PfIzjDITabn3jm2lajC71YRhju8bh/wcP2BYIVi4IHbFc7OPdjDIsamje3GFXr8LoDuBMyaTTRy2fRzxXhjGeYjGbotnvoctOyUSHLAY97mJMZNsSKRQTzRiamhQIGmTQGH95jkEzAzOWw6AwwG03gFPKwigb8ZYTOXQ+pVBLZbAYXlxcoFgtI87sGN96GZBjYHprpFLSbKxSOPkB79yeqXz6hdPEDLjVbOisEZBDedbDzN7BnSySTSWQyGVxdXSGXy+Py8lKx3UU/CUgDKiffYJRK0M5/IPn5I+qGDj2fh8sS5wQM3RCB7WNDBiafHRhmcXEhDIuKqUEzFeC6N8Ttp48oxuMonB4jwZL16wuUyMAZTOi4g7m9gu9tsfY2BLShUetCvohEPAm9VEa1UsOIazdrahiOLFTOz5BPpaB/P0by6xeUZEcycBkZ23Zh33WxHEwVA4sVSbly3DIVBWqfo95trtkEj2RIDRvpNIx0EuWvn5GljuWzU1TfvYH311uYsnv9js436bKDZqODfD6nSr25uYFhGCiVNNy12tgKYEChl2TiMKhOvYXZ5yPMa/y4eYfAWmDBsIaNFtblKkLHh8kgJxLx36bkqbWcK3yvXI7We2xZylaCufsPAXXY8rzbPCPigqVpI2J0/GYbkS2Azm+XxRQBvKRE+qspIXPoL0P4iwAeD4tleYs1nwUIaIS7XGHrRwjotjCYkbFERdNKiMcTBDJU+d1O76DhyouoS4sPNe6cwjU7RYQWbRYE8d2VaqmAlUSrPQL/4PbKjeDMPKx47Xshn0UIuUYBKmGZvSLFvj77jir7t8RcLmz5YE3ARwUk1ahWJdNt+KgqkLPcS9sF6x1dpinxRBJGLgv98hy330/RzGVYis4u8RXgw+5JsYuor8hjMjozc4F+dwSbxsmkWnCtvI8JfQEsMv3FH2e4PP6GAvP4Cjh3ljwWqvxt9ITp5NApcTaCuJvJZFXXSGzUcJDa67U6ihS5wHDHT09RlOBy0aA3IRuLzlrod8YKtNVoq8EgINLDmqYhR6lajJmUz5K36HXv0ag32VI6jUmjxvElRrnztTLlYf/Ic6Q+mLKX0xwmWTI7Pz9XgAKslwxq/fPQKRq1K97eIHtBDU+OOXmu6XRe6eIR8OX5RRkiJcncSyQSiuEh2DmWf6sIHRiyqW8I0qARVc427eQrp3RFTRyXeVxx0sw4sjyasWfYDznMMQW6CrgkRHLY5ng75JDDNX99hezZCXIcY9mPf6NAxikyHnNwLJm1vs5+7gy5Qaj+M9VKHSXNYOlZzsEqhpz2snHIJMQCXkw5zkf9IZqVKnIM9z2H5YA7OjMXy3Yf81YXixo1ZVRcdtNyvlI/qbJeV/GRjEpkRJaYpDsi1YfdC8ZDG4ZWUx9JeVJCRBMilhxy04iabhidPcXvkXG5VFO/BVknYAow+HWxcjcYDyz+M8j2fqroq3fSagQK5PC26rn0/JBrOq17TIYWZMAE/isgP5AbCbiUaJtLOJb76xnB5H2wR0iH16sDoE+Z5tTWNl11FqADzlaCfWj2kH1oTRbs5zLa3LnfGaFeaSkJyqUGtFwZtUpT6aaXqmjU2jSmyvCPDxUSQ7BiPjtFBoTHieFJRNibDsf+kpGRYIsBk9GC+Zvz3+LyvbSip34NFtfKtUwbOQTnf6RUiI2SZQStAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='aes ed' title='aes ed' src='/static/f55030ecf16f16aa17fe7378516bb30c/3e20f/aes-ed.png' srcset='/static/f55030ecf16f16aa17fe7378516bb30c/e7570/aes-ed.png 170w,\n/static/f55030ecf16f16aa17fe7378516bb30c/f46e7/aes-ed.png 340w,\n/static/f55030ecf16f16aa17fe7378516bb30c/3e20f/aes-ed.png 529w' sizes='(max-width: 529px) 100vw, 529px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n구현상의 편의성때문에 마지막 프로세스에선 Mix columns없음</p>\n<h2>4개의 프로세스</h2>\n<blockquote>\n<p>3가지의 substitution과 1가지의 permutation으로 이루어진다</p>\n</blockquote>\n<ol>\n<li>Substitute bytes : (Substitution)</li>\n<li>Shift Rows : (Permutation)</li>\n<li>Mix Columns : 여러 라운드로 진행됨 (Substitution)</li>\n<li>Add Round Key (such as XOR) (Substitution)</li>\n</ol>\n<p><code class=\"language-text\">Shift Row</code>는 byte들의 위치를 바꿔주고 나머지 연산들은 byte들을 다른 byte로 대체해주는 역할을 한다</p>\n<p><strong>각 stage들은 역연산이 가능하다.</strong><br>\n즉, 복호화할 때는 순방향이 아니라 역방향으로 진행한다\n얘는 암호화 과정과 복호화 과정이 똑같지않음</p>\n<p>입력의 일부분이 출력의 여러부분에 분산해서 영향을 미치도록 만들면서 입력과 출력간의 관계가 잘 드러나지않게 하는 것이 최종 목적</p>\n<hr>\n<h3>1. Substitute Bytes</h3>\n<hr>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/ebae00268f524115aa511011d89b5986/a54a1/subbyte1.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 74.11764705882352%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAACw0lEQVQ4y11U2XLaQBDk//8hVakk5CVOnBTxBRiDjTlscxuCETcChCS0hyTAqVQ6s8sR2w9Ts6qd7e2enlXEc33M5x7GIwezqQtv6UPyFVybw7YZHB0emMMRyDUECyFdCcEpixXFmurXeu1TjrgLgcHTGO16H8bjAM6cQXgh2DKAtDw4nQFKmVtkf56hln+AnLsQv54gHbEFYlsgybbrSCCfEdBhv1aDP10gCP+AL0PwiQ1/wTB47CB9dIzE0Xekz5JYkBrXYvAI0OcbDaJCkVARkSSNTx3w7hB8YIKPLSzaXZhDC4wKrL6J9GkCiS/fkE3dYGlLzGcu+v0prQWBrHYRaiIRXq6AG0PI1V8I04Y7mqH+/h2y0U8olxvwxTMmvQmMuzLmpqMvyaUyOI1+RiF/T0z9A0Pu7QEpWNuALFexoEPXP2JIffyAfK6I0JEIxAYhGRVSexRg5iKJ82gUGeqtYqn69x/w+1eIXB680wevVOE8tlGqNJErlFAt1cAWHA6FSwddlS2OWrWFQrGM0l2FGMo3gLFj8GJRy2XUR81UmUTOqYLJaI5hz8R0bOtsjqydqy/NeCFZjGfgmTREvQlB7nFquGZCZqkiJVcVLrWra+rpRstUNZwuFmz1ypiIpEHmrTYEUfflby0tEU/iKnWFSqmh5XSNHgzDwNJlGug6nUUyeYli7h7MfWOKHs7dDCkGNs3Z6ck54vE48rdF2DTc/f4AvV4XnAtYpovL5BUuzi+QSV3vevgS8NCLlWajCpLxFIGeoVKu60uMTheNeoMcFnr/9iaPWOwExcLDa0A1h/sGqze6Bd1vBvr5qbzvmZKnvvlun3uBrt0T0oB7ML6TLQ7yN5qxclc5O5s4GA9mlO2ty97qVf2eRGSPzHaMmBvo28zxAi16x31jjGb9Sa+bFI1aC0Z7sFXgBgclKjz6C/0DD/FQZ96xsMcAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='subbyte1' title='subbyte1' src='/static/ebae00268f524115aa511011d89b5986/ca1dc/subbyte1.png' srcset='/static/ebae00268f524115aa511011d89b5986/e7570/subbyte1.png 170w,\n/static/ebae00268f524115aa511011d89b5986/f46e7/subbyte1.png 340w,\n/static/ebae00268f524115aa511011d89b5986/ca1dc/subbyte1.png 680w,\n/static/ebae00268f524115aa511011d89b5986/a54a1/subbyte1.png 901w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\nbyte단위로 업데이트, 치환을 해준다.</p>\n<p>4x4 byte(128bit)중 하나의 byte를 S-box라고 함</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/8c13a092e6ea803797e715fc0b7bd953/a6711/s-box.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 65.29411764705883%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACUUlEQVQ4y01TyXLaQBDV/3+IkyoM2hcEPlCJy46X2JY0CBk7FGBhRyCEhPfLS/dQ43B4Nb287ullRiuXDSb3C4zEDOPsAaw/N+/Y1u9onkrU0xz1ZIambNAsazR5gbrYoKnfiLOHzRua6g1avX7FsthiMV9hMSuwXm5Rly/YkL2aP2EdCayHGap8ic1Thap6xabckp84zCufv7AuGmjVioT5X/wZ/MDd6TlScQcRZRjGt1LmUyRjxGfXiE8uMErvIeIM8c0Iyc2OJwjxRYTo+AzafELtDo7x8+AAfdNE0O3Bc32JbtCF7wdwHQ8u6a7no9frS5tju7BthzghAoKlG+iRX3t8WCJN7tANj4hgw3EcWJZFCVwpM9humoa0+74nT6Xbzi7GJLkbhtAWNBsR3SIMenBchyrzYBiGvN22bJnMMEzoui4DPaqi0+lI3aSO2O/7bGsj8LvQ8myCLMkwoBkGQSDBJJcSh3Qjk9nGFbPMNk7MNpYZ/X5f+sOwRzMUNNQrQcrRVxBXuKvGk1CjUNWoypSd49jmyxnmK0RXQ7kE5eR2GDwjBl+gWmQOy2zbT9xqtWRXcinRdSr752Tqtv3F6J3/CbhitTjFY71Nc/Vo+1o+L3B9egmfn4HDC9BxeHgoibqxS8RLYLDMl/DZbrdlVZa1q7r1/RtcsmkLSjilOaY3AumQH3NGDzVFEqXyHCYjesSCukikzhzl43NICxUUE5//xvjkF7Rn+rPb5oP+7wdeajoJL80+PpHP6CeNpygeK7xuPyVP+RSP42r6jv8AYnNnnVsxR8kAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='s box' title='s box' src='/static/8c13a092e6ea803797e715fc0b7bd953/ca1dc/s-box.png' srcset='/static/8c13a092e6ea803797e715fc0b7bd953/e7570/s-box.png 170w,\n/static/8c13a092e6ea803797e715fc0b7bd953/f46e7/s-box.png 340w,\n/static/8c13a092e6ea803797e715fc0b7bd953/ca1dc/s-box.png 680w,\n/static/8c13a092e6ea803797e715fc0b7bd953/a6711/s-box.png 943w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span><br>\nS-box각 바이트들을 다른 바이트로 대체해주는 규칙<br>\n모든 S-box사용자들이 같은 규칙을 씀(key의 일부가 아니라 정해진 방법) :</p>\n<p>서로 다른 8bit가 다른 8bit와 1대1연결되어있다(역연산이 가능해야하므로)</p>\n<blockquote>\n<p>ex)</p>\n<p>8bit가 00000000일 경우, x : 0000 / y : 0000으로 보고 63을 매칭시켜준다.</p>\n</blockquote>\n<p>4x4의 state의 각 byte, 총 16개의 byte를 S-box에 보낸다</p>\n<p>16개의 byte를 독립적으로.</p>\n<h4>😨 S-box 연산과 역연산</h4>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/0103e104e4c4e13580fa16508d8f0926/b2dbf/s-box-inverse.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 74.70588235294117%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAADAElEQVQ4yzVU2W4USRCc//+H/QCMWJaHRbASHowW2Qy25+77vu+u6p4Zc0lBVDd+SNVDZ0ZFZET1QooLirxDFFbIkgZNM+Cg2YjdEK2mo/djDN0J4/gNddljvzXY36BtBAb5NNegzm8Y+ics+koi9gvYRgzbTFF4GTIvQWLacK7fo/77BWRcEPAnunpA4meIbBeOaUK2I0HOGLIGUlV7wmJk04kfLuefOFcdxMMjTmQX7tb4/+VfyN+8/NM8YpTfceF5t7rBu+UbxJaNk2ZCbPcQUY4+rbEYxBNkc4LsLhClmD6MZO27Lu7evkL+zxXEXsMw/kBT9MjTBh2rcGMEVJMebQg3giCYaEYCdmdIgkh1KvD+gvP4C4Fl4svnD4hfv4C4/YKx6JAEGTzTR80dFyxfc2B8Xk0k1GyvJCtTBoIowIEsO94SWQE6w4P0c+Smh2D5Ef1Ro2k1vJ2B8v4R6XoHl6D67T0E16aICAWonJlki9kpJcu+3yJjc3404awP0Jef0D2skZGdT4ktgduoQuAmsFdrCM4owImhAptkMxIDI9NkLazNEaXpovUi+JsDtHf/od3s0XFQRcxwXOxNA01FoLyd3FUKZ4aULCwP3f0D5O6AJszhHC0UlNxTcsW9hbcrdLqNgdJGEthoOyy/fkLuhxjrcd59+wxImZIxEdvd5FYfJBBOCM3U8f5uCT9OcFa3U4EkoFqR7lq42654WYiBjksGXzwzHFXCT79mY0hfpBVGnmmSYfPvK6Suh4EypxT0lwnQjUKst49oAr6iUhJsljzvsGRzUk6yRZBOQ5I5HK6v0b5mBm9u5gQ8J0HFg0kop4u7uf/Ptzk2XLy0fYb3OOeJeesYUofOGldXcB/5ClQSODQKpoDhN5g/7WAhsKMpahP7CZDBnl6IE9CABJ09m9Pz5VRcds7hks7WPBtKU2C1ei1JhUL9SKhE7U2VAlMZXqjn1ukWWjJsjwZa/l163hbTbZ1u+zRK11yycmEZqjwYugNPGUiQllGbS071GwsdUQ8dStQYAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='s box inverse' title='s box inverse' src='/static/0103e104e4c4e13580fa16508d8f0926/ca1dc/s-box-inverse.png' srcset='/static/0103e104e4c4e13580fa16508d8f0926/e7570/s-box-inverse.png 170w,\n/static/0103e104e4c4e13580fa16508d8f0926/f46e7/s-box-inverse.png 340w,\n/static/0103e104e4c4e13580fa16508d8f0926/ca1dc/s-box-inverse.png 680w,\n/static/0103e104e4c4e13580fa16508d8f0926/b2dbf/s-box-inverse.png 946w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<ol>\n<li>😨 Inverse in GF(2^8) :\n각 byte에 대한 역원을 구한다.</li>\n</ol>\n<p>​ 00000000 : 다른 수들은 모두 곱셈의 역원이 있지만 0의 역원은 0이므로 0은 그대로 0</p>\n<ol start=\"2\">\n<li>😨 Byte to bit column vector</li>\n</ol>\n<p>​ s-box안의 bit를 b7(최상위비트)~b0(최하위비트)에 차례대로 넣는다\n만약 00000001을 넣어야한다면<br>\nb7부터 차례대로 00000001이 들어간다 (b0 = 1)</p>\n<ol start=\"3\">\n<li>😨 행렬곱한다!</li>\n</ol>\n<p><code class=\"language-text\">00000000</code>이 들어갔다고 칠 때</p>\n<p>우선 <code class=\"language-text\">00000000</code> 과 옆의 행렬을 곱해서(bn * 각 행의 n번째원소) 차례대로 <code class=\"language-text\">(1)</code>b0~b7에 다시 넣는다 (지금은 0이 들어갔으므로 행렬곱해도 다 0으로 나옴)</p>\n<p>옆에 bit <code class=\"language-text\">(2)</code><strong>11000110</strong> 를 GF에서 mod 2 하던것처럼 xor<br>\n<code class=\"language-text\">(1)</code>의 bit(이 예시에서는 00000000)와 <code class=\"language-text\">(2)</code>의 앞 bit부터 <code class=\"language-text\">xor</code>시킨다</p>\n<ol start=\"4\">\n<li>😨 bit column vector to byte\n결과값은 01100011으로(최상위 비트부터 읽는다) 0을 S-box에 통과시키면 63이 된다.\n<br/><br/><br/></li>\n</ol>\n<hr>\n<hr>\n<p><br/><br/></p>\n<p><strong>예시 하나 더!</strong></p>\n<ul>\n<li>Inverse in GF(2^8)</li>\n</ul>\n<p>인풋이 x: 0000, y: 0001일때, 1의 역원은 1이므로 00000001이 들어간다</p>\n<p>00000001을 최상위 비트(b7)부터 담는다\n<br/><br/></p>\n<ul>\n<li>Byte to bit column vector</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th><code class=\"language-text\">b0</code></th>\n<th><code class=\"language-text\">b1</code></th>\n<th><code class=\"language-text\">b2</code></th>\n<th><code class=\"language-text\">b3</code></th>\n<th><code class=\"language-text\">b4</code></th>\n<th><code class=\"language-text\">b5</code></th>\n<th><code class=\"language-text\">b6</code></th>\n<th><code class=\"language-text\">b7</code></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n</tr>\n</tbody>\n</table>\n<br/>\n<ul>\n<li>행렬곱</li>\n</ul>\n<p><em>b0~b7이</em> <code class=\"language-text\">10000000</code>이고, 행렬의 첫 번째 행이 <code class=\"language-text\">10001111</code> 이라면_</p>\n<p>bn과 n번째 원소를 곱하고</p>\n<p>곱한 결과들을 모두 더해서 bn에 넣는다</p>\n<p>이걸 8번 수행(b0~b7에 모두 집어넣음)</p>\n<p><code class=\"language-text\">10000000</code> * <code class=\"language-text\">10001111</code> = 1 + 0 + ...+0 = 1, b0에는 1이 들어간다</p>\n<ul>\n<li>옆에 bit <code class=\"language-text\">11000110</code>과 b0~b7을 <code class=\"language-text\">xor</code>연산한다</li>\n</ul>\n<p><code class=\"language-text\">11000110</code> xor <code class=\"language-text\">11111000</code> = <code class=\"language-text\">00111110</code>\n<br/></p>\n<ul>\n<li>bit column vector to byte</li>\n</ul>\n<p><code class=\"language-text\">00111110</code>을 최상위비트(b7)부터 읽는다 : <code class=\"language-text\">01111100</code></p>\n<p><code class=\"language-text\">01111100</code>을 16진수로 읽으면 <code class=\"language-text\">7C</code> 즉 output은 <code class=\"language-text\">7C</code>이다.\n<br/><br/></p>\n<hr>\n<hr>\n<p><br/><br/>\n입력이 <code class=\"language-text\">X</code>(00~256), <code class=\"language-text\">X</code>의 iverse를 <code class=\"language-text\">Z</code>, 행렬을 <code class=\"language-text\">A</code>라고 할 때,<br>\nZ를 bit 벡터로 표현한뒤 A를 곱하고 그 결과에 상수 C를 더한다.<br>\nZA + C = Y(00~FF)(결과)</p>\n<p>반대로 역연산할경우 6과 3을 사용해 00임을 알 수 있다</p>\n<h4>😨 <strong>역연산</strong></h4>\n<p>역연산을 하려면? Y가 들어갔을 때 Z가 나오게 하면 된다<br>\nY - C = ZA<br>\n-A (Y - C) = Z (사실 +나 -나 동일, -A는 A의 역행렬)</p>\n<p>인풋과 아웃풋의 상관관계를 예측하기 어려운 암호가 좋은 암호</p>\n<p>-> linear 함수를 사용 자제. linear할 경우 몇 개의 p-c 쌍으로 연립방정식을 사용해 암호를 풀 수도 있음.<br>\n그래서 nonlinearity인 곱셈이나 곱셈의 역원 사용</p>\n<h3>2. Shift Rows</h3>\n<hr>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/b15c2e623935776c50e2bdb68fcb07c5/200fa/sr.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 29.411764705882355%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABaUlEQVQY0z2QS0/bQBSF8/vbDf+gLSoSKl2gFoRIGlWpLJpHAy02xMaxwXHi+FU8M4kdqi6+XhKVxbeZM/fcc24ryxRpqsgzTVEajN6gVU2+LMkeYsqkkLeGtWmoSy0YatGN2VDGS7IgopinqEKxUk+0fDvEu/IFD3fsoqonSsdl8vGI2+Njrs/bqPSRxA0YXwy33IuuowVT0Zx2h8GXr0SjS8yzYS2JatXsqGrWq7+k/SH23itu9l4zPjxk+ZDg/byld9bh23kHZ3hJMo2wP31m9H6f7ocjPFlktBjqqmHLY4P6vTNcyDZr/x3dk1O6p2fkcYrvz7CsAb3eBbbtkRcr+lYf6+0b2gcHONcTqbyhZV4M6y1G/6H0QsJfDtMwJhyMpN6S+OZO6g4Yfx8RTHxUrpl7AdHwB4GcI1kU23kx3Lwk/G/8bFpL0lpuUmcVulwxv0+YuyEz545IqGbpVlub3V8j6ZTM/gN1v7CUMhqyGgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='sr' title='sr' src='/static/b15c2e623935776c50e2bdb68fcb07c5/ca1dc/sr.png' srcset='/static/b15c2e623935776c50e2bdb68fcb07c5/e7570/sr.png 170w,\n/static/b15c2e623935776c50e2bdb68fcb07c5/f46e7/sr.png 340w,\n/static/b15c2e623935776c50e2bdb68fcb07c5/ca1dc/sr.png 680w,\n/static/b15c2e623935776c50e2bdb68fcb07c5/200fa/sr.png 913w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>plaintext를 4byte씩 잘라서 column으로 나열함<br>\n나열한 column끼리만 연산하면 잘 안 섞임<br>\n그래서 SR 필요</p>\n<p>Row, 행만 움직임. 열은 움직이지않음</p>\n<ul>\n<li>첫 번째 행은 안움직임</li>\n<li>두 번째 행은 왼쪽으로 한 칸</li>\n<li>세 번째 행은 왼쪽으로 두 칸</li>\n<li>네 번째 행은 왼쪽으로 세 칸 (= 오른쪽으로 한 칸)</li>\n</ul>\n<p>동작 자체는 간단하나 column에 대한 연산만 반복하면 잘 안섞임</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/8276fe9e785c7aaa1a6c23786258abfe/a6c2c/ex2.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 45.88235294117647%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABvElEQVQoz3WSS2sUQRSF+6eKK125ciEYQXfuhCC6SxRFBBfGKMQYhERDIipD1IxmMuM8unum393T1e/JzGdVy8RG9MLhUlW3Tp1z62qLxYJllGWF54W4bojjBgThlDD6g2gaNyAQIiGOBdM4rrPi0rIsY3dvj29fvzCZuFy5+oQLl9a5ePkBt1e3uXH3DdfubLGy+prtwyGv9g2e7w54+8mkM/A4GQR0jZje0OHsbIamlOV5zmw2o6oqXC/CMG2OjztSYYzrT/EClSNGuimVxgQSaVYwHk/QdUPuG3Wez+doSubStiJcLCqKTGCNDaoyp8hT+WBanweBTxgGjEZDLMuq7wkhZJs8fN//bZlGlGXG02cf2Xl/yrvWSFpJMJ0UywmaZfVFpeZfoRVFQbvdlq/qcjnj+s0N7j06YG2jxYcfMd/NDNMO62JForB0tHTXhFaWJb1eT36IVROu3HrB/ceHrL884vORzWnrp7QXSNsZ/X6/ro2i6JywSVwrbMqtqpy1h/ts7rTZOuhy0vXROya27eM4tiQc1KQKfxOdW272Q/22EDFJIkhks0Ui5yxN5cxN6xo1Cctp+B/hL0ZtoWAGhmC9AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='ex2' title='ex2' src='/static/8276fe9e785c7aaa1a6c23786258abfe/ca1dc/ex2.png' srcset='/static/8276fe9e785c7aaa1a6c23786258abfe/e7570/ex2.png 170w,\n/static/8276fe9e785c7aaa1a6c23786258abfe/f46e7/ex2.png 340w,\n/static/8276fe9e785c7aaa1a6c23786258abfe/ca1dc/ex2.png 680w,\n/static/8276fe9e785c7aaa1a6c23786258abfe/a6c2c/ex2.png 822w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<h3>3. Mix Columns</h3>\n<hr>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/4d0f8fff58c8e414661b6443ac5cc32e/926ba/mc.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 47.64705882352941%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAACNklEQVQoz0WSzW9SURDF+bOrK+vKhYkxLtzp1oWaQGlTbSu0hUKBEr4eUHh8wwMevHfvfZRSTfTnPCDp4mRucmfOnDkzkZXeEKhHjCDw9wjf+ukZwR8C12D6E8zMJxi7BOb3rs5/hlquiChvjZaPXdxsYbwH/MkC5XiCJXqumWdyzI6PcOstnNwd/mguNQ+EgsyWeL0jrBXuaZVtmiWb2k2ZTq2HLyQjq0XHamNXmtjVe6qfP9F9/RLv8IBONIrdHtK0bHr2SJRu9gofiBjpFI6iqw1UtY6Wt2raLOwh05liNvFwHB+rWKN3eY377g2ddBZnquh3J1tSZ+RuCbUXEtbvMZ0hJn+Hvs1hWl2Cr1/offyAVa5TzBZYCPGkP2MmJPPxgrFEf7KkfXVD4ixBJp2nVKyiZeyIqVqYUgVj99GNFoGYrk+OKR6+IHOe4DR+jCeN1qkU+uwHqmIRjGYEA4eWEMajRyQT11xfpbaeRoyMpys1zHCKFu+Cx3948TiFVwckT045icVYdodbAtMbo2sNdOIXgeTXU1li375z9vOCZPJqP3K48nBToTLpbDagY1Ga79+ST9+SOr9gaZ5Yrf8SCMzUw3RHrCS/K15eStObdI78bWGv0N+djRYF4chhNOUaSjz1xFtPinW7t3t3BviNNl4mixLiMDc8L2+xwl8E+MuASCgzvB9/rlD9MUq89MdzSXRRA9m+KHGbXWzZ5kBOySlV6ZUtHDnu8GZDVcqTesFyofkPl6XSHV/0DSUAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='mc' title='mc' src='/static/4d0f8fff58c8e414661b6443ac5cc32e/ca1dc/mc.png' srcset='/static/4d0f8fff58c8e414661b6443ac5cc32e/e7570/mc.png 170w,\n/static/4d0f8fff58c8e414661b6443ac5cc32e/f46e7/mc.png 340w,\n/static/4d0f8fff58c8e414661b6443ac5cc32e/ca1dc/mc.png 680w,\n/static/4d0f8fff58c8e414661b6443ac5cc32e/926ba/mc.png 918w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n한 컬럼의 일 부분이 다른 컬럼의 여러 부분에 영향을 미치게 한다</p>\n<p>마찬가지로 Columns만 움직임</p>\n<p>cell하나가 하나의 byte</p>\n<p>8bit를 다항식의 개수로 본다.(GF(2^8)의 폴리노미얼로 표현되는 원소가 된다)</p>\n<p>열에 있는 네 개의 cell과 주어진 행렬과 행렬곱 시킨다</p>\n<blockquote>\n<p>행렬의 수는 GF(2)로 표현된 다항식으로 만약 cell이 abcd고 곱할 행렬의 행이 2 3 1 1 이라면<br>\n행렬곱 결과는 xa + (x+1)b + c + d 가 된다</p>\n</blockquote>\n<p>일종의 substitution연산</p>\n<p>이에 대한 역연산은 결과값에 역행렬을 곱해주면 입력값이 나온다</p>\n<h3>4. Add Round Key</h3>\n<hr>\n<p>단순히 <code class=\"language-text\">xor</code> : 128bit의 State를 128bit 라운드키와 <code class=\"language-text\">xor</code></p>\n<p>그러나 Round key expansion은 복잡</p>\n<h2>전체적인 프로세스</h2>\n<hr>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 577px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/bd1cf12101935786d5bd98f3cdf2d8cc/32e64/aes-process2.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 119.41176470588235%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAYAAAD6S912AAAACXBIWXMAABYlAAAWJQFJUiTwAAAD4ElEQVQ4y4VV2XLiVhDV/39GXDVPSZXHYwyYMWMGx4MxiH0RIBCL2LRfsdiZVJ10X0mAM6nKQ1dLun1Pb6dbihAH7MI3hCS74AgxnUPMTAhzja0+xXYyhz2ZwWu2sCEduCGEOCJk2+BwkiDWiu/uUFfbqLzWoFaaeC2W0K7UsXf36NTayKayUPPfMbhPo1NVEaxdhOINwiMAP5LQJ3AS1optBUjfZnFzfYvbLxlcX6fwLV/EYfcT1sZHrzvCfGJCb3WhVyoIyD70E8AjAgb1CMyLQBXHEnjIPSKb/oqv2TwydzkU8k8w51usTRsr00FVLSKT+YT77CfUWiV4zh6Bx3KIgBks1oqzDSRYiqLLpO7x5fMdHh++w7NDuFYIZyswnuioV0to1F5gGGP4bgQUuGcRMbjCF/K5AtJUKwbm9J8KP6K6xEYH8ROdtkbpD07R/BeYBPQp/NXCwqA3pgg6mBsr+X55KQze6VzHQNPp/VfA4CJiJbrAlHmXxZaa3gPqMhtxelpXRbF4hx/PGfS1Jjw3qh/bnEAvAX064Egjg/0vhp1WGfe5P/BYuEG7p5Lt+UxGdgGunGtw/CDBRVo78ReG2gj6YEzUePv/lBmdu81dlZ0lKp0B99iHf6PXG0GjGiYO/X9nEovCyAygD6fUkLUUQ5+fSsDaGA1pkp5RU18wnRofanYqUcxLhb25xLnR0MDMWGI2WcqOL2YbmLMtOdig9O0GufQV0eoK5ZcH2RTxoSnnJklAexNQfZIIV5iMFhdTcIBL3vtdjbrdp2wCiIsUmRksSR0VJrC19iQgRzbSJpTy4qLwexyohu0OEbsXE9s/j5qhm1hM11Ejz12ONkXijZ8vU7HMDXr1GvqNBjZrm2Z5J0eT7TpNDf3OKObuJQ/jBvhk7Me1YaOQLpYKtIlSvyF9d4Vi9nfMx6ZcHsu5Rc2qol5rnJxLQJ6OvXiX+jQpHNnaJxoJTCcGmo06Ws0GVpPpaVVxNsvFRkpSV4UjmlN3p+Q1EW4OA3Ndi4/PGA9n6FINO+2eJHZCGS6VtXKl4w/E3iydmH+m7PKWjNg76wZtbXO2JhqtMJ+asiQJ97iOfG9J6fOz3IeSh0xsimbYn1CXjRNduOhH2tzJ8tjTCMot7UVlWtPy1bo6NNpEJvGWg1ASj3x5Rx88J5Srn0dxu/Lks731pd7S/8QmzTTjM7bx7N1pd3JTJSB/5Bnm9HWamOenMlr1Pmr006qU6yiXVDTUDl5fVPxJP7FqpYFX+sZSpXN2wmBMJ8WxaSnYQoojdQjboqisIP4NCErHoajo3REUrRfbCTk1bJtgsP4H2gPxNaoFETUAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='aes process2' title='aes process2' src='/static/bd1cf12101935786d5bd98f3cdf2d8cc/32e64/aes-process2.png' srcset='/static/bd1cf12101935786d5bd98f3cdf2d8cc/e7570/aes-process2.png 170w,\n/static/bd1cf12101935786d5bd98f3cdf2d8cc/f46e7/aes-process2.png 340w,\n/static/bd1cf12101935786d5bd98f3cdf2d8cc/32e64/aes-process2.png 577w' sizes='(max-width: 577px) 100vw, 577px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>Add Round Key 전에는 input이 같으면 모두 똑같이 나오지만 Round key에 따라 같은 input이더라도 다른 output이 나온다.</p>\n<p><strong>AES의 안전성을 보장하는 가장 큰 요인은 key이다</strong></p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/0397c28886499bed31149476fa27b10b/e6e97/aes-process3.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 78.23529411764706%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAADeElEQVQ4yzVU23LiVhDkM/MB+Z085AOS3VQqDymvd22cYIPN1WCDAYFA6C4kIZCQwFy82F5vbdLpc9g8TJ37TE9Pz8ntkzWesi0y28PSdJBcl7D8/VeEuoUF11m0RBolSGcxYj9C6IaIPDH6WHCdzVOkwRxpuMAm3SL3xItbf44VL8bqGN7VFfz8GcyRAUcz4TkBXGE2zQpgGx4sYboDx3Thcc/jmWNOkSUb5D4/HrAKYkSWh8VijUFHgXF+Dt1wMR6ZGA50aH0VGufayJLjWDUw4agOdag8nyhjjFQdCd/ndn+8x/bTCdbLLdxwBavZwewij1mQwPESTI0AycRGGj/CdBNMumPMxgaC6Ry6HcMdOUhNTzp7zPbI7Znerq/gaf8FljtH9fQMrffvULqp4qpUReH0HHf5v9C+76LeuEfluobGTQXNRgvV+j2q13W0m/e4rbeYtk8OD9+w279ht3mW3KhdBaOHPlqtDiqXJZSvK7g4y+PDnyfIn3zA2ac8CoUiarVbOmkyCB1XOecoqMh93r0iYzrhdAGLxBrKEObdPQY3ZbT/vkSr2Uad0cuFK7QLl2i2HtAslqFU6+iR20GrTQ5VGLrNQrlEuH2FsGembLszmOUytN9+gcKI/QcFPVqn3UP1poYSEReLNyidX6B4copCrQX7xx8w/vkn9MizoVl0SIT7zQu26wMWsxSW5khpOE4kZTJ1I8oilPw4ZiBpcbiv857SHWFSqUO9bWOgTBD5sUD4ggPRrVhlUUlDO0IXo9CX780ReAtJyZQZGBMHJjVoEtGMFM2p18XY5HmMVZgcORTIZn6C56c3+KLSlQYG/RG+voKPXZRZ8eFAw9vLvwzkoFZtyICvX3je6aHx8SOcoYbD8z9Hh7vHZ4kuS7YyJUPwQSQzCj4gQtElAt08XMoAEiHvxb0BQkrGp1P/9g5re3pMWQhySWFGFPOE8E0604lAmOBNcCnMnByp0McW71kw6cy968Bp92FRCRlbMben/gQKkXYab0j4VHLnfe9d63vvykKJwlg+bHIn5jaLZVu+LJLFdZbu/y/Km2zsOEplSkcnrnw8D1PuZ1jwTBRGpO/xIxEW8fOYqROajlAZIeUnIhEKyayznbRsSS6XG6QMsF7tZYpKbwRNtalLFf2eil53SG0qGHcH2Hghf6oAK/K3ni/xHxwJaEOpVqIdAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='aes process3' title='aes process3' src='/static/0397c28886499bed31149476fa27b10b/ca1dc/aes-process3.png' srcset='/static/0397c28886499bed31149476fa27b10b/e7570/aes-process3.png 170w,\n/static/0397c28886499bed31149476fa27b10b/f46e7/aes-process3.png 340w,\n/static/0397c28886499bed31149476fa27b10b/ca1dc/aes-process3.png 680w,\n/static/0397c28886499bed31149476fa27b10b/e6e97/aes-process3.png 864w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p><code class=\"language-text\">ShiftRows</code>로 인해</p>\n<ol>\n<li>첫 번째 행은 이동 안함.</li>\n<li>두 번째 행은 오른쪽으로 세 칸(=왼쪽으로 한 칸) 이동</li>\n<li>세 번째 행은 오른쪽으로 두 칸 이동</li>\n<li>네 번째 행은 오른쪽으로 한 칸 이동</li>\n</ol>\n<p>바뀐 한 byte로 인해 <code class=\"language-text\">MixColumns</code>를 하면 더 다른 다항식이 만들어진다.</p>\n<h2>key expansion</h2>\n<hr>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/37bf37e3c568dd67e650b4512a29b8f7/9d517/key-expansion.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 75.29411764705883%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAADC0lEQVQ4y22UWW/bVhBG9df71DwUKAq0RYECfSpqO7HdonEs2YkSy5KsxVK0UQu1S9RCURR32nXycDqkFQeF+3BxL3Avz8w38w0T+sal0+5RqzWp3H5ktdwSeP/guff4Tog+X7OaLfHtAD/4hL+/89y7/b4/O3fy5p7EZuNRuCmSfveB8/MUk5FG6H3CteWR6bNSxyw6KracrcEUqzfEs0IBCEgA8b4/u9YdCV13KRXLZK6uubx4y2y8JHQf2G09itk8xcsLcskkSq1G+/yMXiqJo1sCkUwF4EngKLgrQZxdGAE9xhK5o6go9Q7rxZbQ/4wlwFQyJbA3pP88oaso9JoNepUKptx9yejr+gKUGg5ERlPpM7gpoZ29xmp1MUVivVDg+tUhucPfyV+k6A0GtDtddoYby4wgz4DrGDimUW/Tf3OGdnTAVppj7gKUbJbM8Uvyf53yQbJU1R5KS8F8At79ZznyTcIwAma3NeqZPEq1xWKoEaxNtoZHLf1OMjwg9/KAUvKc0XRKt6c+Av9XsgD1lY1y+AfZk1PSmRtmgznhzsfYOHSrVbICav3yA9kX33B9ekzh9d+PkveNeC5ZgGZV/Cd1XK92WLqNLx+YZkCj1aZ1W2b043c0vv+Wy99+pXByjC1NCbyHuMvPgWuHMPgsrY+MfB9bwNI22NMl27FGN5enWyhLVg6TtspYrGSuLVbiBlskPrONYfjocjnsT5mNFmjzDeZshVNrEA4mDMSjw2KJB1N8eXTE259/Yph+j9FsY0uQx1qGX2sYAVuNDpn3Wa6v8kyHc/yNjT1Z4IqBzdEcTabFkpHs5IuU01dMyx8JhhPcvR+9py6Hj5PSFVNXbusyMRWZW51A38UZOjLj0ePIk87CYDpZ0mqpokLHk/F0oqz22UUrKkFcw6gOK81gIXKNtTRJOmw0Whj9CVvxadxVsVKj2iSfK6F2BmiiZLPeyXsLQxoZn2VPLJf2E922gvjnMJbH0RqI1H5vxEwyM0XJSEBqXWEpZdjNV1hSQ0ssZkl9d1s3Xv8COqFAGDwkYzcAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='key expansion' title='key expansion' src='/static/37bf37e3c568dd67e650b4512a29b8f7/ca1dc/key-expansion.png' srcset='/static/37bf37e3c568dd67e650b4512a29b8f7/e7570/key-expansion.png 170w,\n/static/37bf37e3c568dd67e650b4512a29b8f7/f46e7/key-expansion.png 340w,\n/static/37bf37e3c568dd67e650b4512a29b8f7/ca1dc/key-expansion.png 680w,\n/static/37bf37e3c568dd67e650b4512a29b8f7/9d517/key-expansion.png 910w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>nonlinearity</p>\n<p>Diffusion: 어떤 한 비트의 변화가 여러 비트에 영향을 미치게 만드는 효과</p>\n<p>w0 ~ w3이 K0\nw4 ~ w7이 K1</p>\n<h3>함수 g</h3>\n<p>입력받은 word를 8bit씩 쪼개 4byte로 만든다<br>\n위치를 그림과 같이 이동시키고<br>\nS-box를 사용해 치환한다<br>\n치환한 값을 어떤 상수(4byte)와 xor한다</p>\n<h2>AES의 장점</h2>\n<p>안전성도 안전성이지만 여러가지 프로세스적면에서 효율적</p>\n<ol>\n<li>8bit의 기본 연산을 사용하는 cpu에서 잘동작한다.</li>\n<li>xor이나 shift 오퍼레이션등 간단한 연산 사용</li>\n</ol>\n<p><em>우리가 사용하는건 32-bit processor인데 8bit연산이 효율적일까?</em><br>\n32bit에서도 잘동작함.<br>\nBS, SR, MC의 세 오퍼레이션을 하나로 합칠수있음<br>\n4table lookups + 4XORs로 끝낼 수 있다</p>","frontmatter":{"title":"5-2 AES Process","date":"April 18, 2022","update":"April 18, 2022","tags":["computer protection"],"series":"컴퓨터 보안"},"fields":{"slug":"/5-2/","readingTime":{"minutes":13.25}}},"seriesList":{"edges":[{"node":{"id":"2f0042b0-4265-503d-bfb4-2f652be20247","fields":{"slug":"/cia-aa/"},"frontmatter":{"title":"1-1 컴퓨터 보안의 요구 조건 (CIA + AA)"}}},{"node":{"id":"12f645a6-a211-5998-802c-e24e800a9749","fields":{"slug":"/1-2/"},"frontmatter":{"title":"1-2 Access Control"}}},{"node":{"id":"219bd0e4-f5da-56b8-a631-177affc7a1f3","fields":{"slug":"/osi-structure/"},"frontmatter":{"title":"1-1 OSI 보안 구조"}}},{"node":{"id":"80496429-296e-5a3f-94fc-c1b5ac97e58b","fields":{"slug":"/2-2/"},"frontmatter":{"title":"2-2 Number Theory"}}},{"node":{"id":"1729eca4-79ba-505d-ad14-fe712b97b487","fields":{"slug":"/3-2/"},"frontmatter":{"title":"3-2 Symmetic Cipher Model (고전 암호)"}}},{"node":{"id":"392efc96-264f-5e10-b897-275865998fc5","fields":{"slug":"/5-1/"},"frontmatter":{"title":"5-1 Web Hacking Overview"}}},{"node":{"id":"efb55f6c-c7dd-549c-a0c8-bd32a55900f2","fields":{"slug":"/5-2/"},"frontmatter":{"title":"5-2 AES Process"}}},{"node":{"id":"f1fc1120-6efe-5c82-a468-e7b606dd5201","fields":{"slug":"/6-2/"},"frontmatter":{"title":"6-2 Modes of Operation"}}},{"node":{"id":"54cac675-2244-593f-8885-8e87b47f4d60","fields":{"slug":"/4-1/"},"frontmatter":{"title":"4-1 다양한 보안 위협"}}},{"node":{"id":"8973c651-be66-5cbd-bed0-8034d04287eb","fields":{"slug":"/7-2/"},"frontmatter":{"title":"7-2 난수 생성"}}},{"node":{"id":"7078702e-cebc-5504-8b08-84848cf80eca","fields":{"slug":"/finite-field/"},"frontmatter":{"title":"4-2 finite field (Galois Field)"}}},{"node":{"id":"d0c7c15f-daf7-51ff-a6a8-bc9aa5dc632a","fields":{"slug":"/steam-block/"},"frontmatter":{"title":"4-2 Stream Cipher와 Block Cipher"}}},{"node":{"id":"3230e19c-884d-5de9-bd84-bd379aec8b3d","fields":{"slug":"/7-1/"},"frontmatter":{"title":"7-1 DoS attack"}}},{"node":{"id":"6f2caa92-9f2e-5880-b7b5-907163e69325","fields":{"slug":"/9-1/"},"frontmatter":{"title":"9-1"}}},{"node":{"id":"0ba2b47e-2d52-512c-9a36-4c8bab1a7d0a","fields":{"slug":"/9-2/"},"frontmatter":{"title":"9-2"}}},{"node":{"id":"e804d575-1a68-5078-99af-828d5a23d25a","fields":{"slug":"/10-1/"},"frontmatter":{"title":"10-1"}}}]},"previous":{"fields":{"slug":"/5-1/"},"frontmatter":{"title":"5-1 Web Hacking Overview"}},"next":{"fields":{"slug":"/6-2/"},"frontmatter":{"title":"6-2 Modes of Operation"}}},"pageContext":{"id":"efb55f6c-c7dd-549c-a0c8-bd32a55900f2","series":"컴퓨터 보안","previousPostId":"392efc96-264f-5e10-b897-275865998fc5","nextPostId":"f1fc1120-6efe-5c82-a468-e7b606dd5201"}},"staticQueryHashes":[]}